!function(e,t,i,n){"use strict";function o(e,t,i){return setTimeout(d(e,i),t)}function s(e,t,i){return Array.isArray(e)?(a(e,i[t],i),!0):!1}function a(e,t,i){var o;if(e)if(e.forEach)e.forEach(t,i);else if(e.length!==n)for(o=0;o<e.length;)t.call(i,e[o],o,e),o++;else for(o in e)e.hasOwnProperty(o)&&t.call(i,e[o],o,e)}function r(e,t,i){for(var o=Object.keys(t),s=0;s<o.length;)(!i||i&&e[o[s]]===n)&&(e[o[s]]=t[o[s]]),s++;return e}function l(e,t){return r(e,t,!0)}function c(e,t,i){var n,o=t.prototype;n=e.prototype=Object.create(o),n.constructor=e,n._super=o,i&&r(n,i)}function d(e,t){return function(){return e.apply(t,arguments)}}function u(e,t){return typeof e==de?e.apply(t?t[0]||n:n,t):e}function h(e,t){return e===n?t:e}function p(e,t,i){a(v(t),function(t){e.addEventListener(t,i,!1)})}function f(e,t,i){a(v(t),function(t){e.removeEventListener(t,i,!1)})}function m(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function g(e,t){return e.indexOf(t)>-1}function v(e){return e.trim().split(/\s+/g)}function y(e,t,i){if(e.indexOf&&!i)return e.indexOf(t);for(var n=0;n<e.length;){if(i&&e[n][i]==t||!i&&e[n]===t)return n;n++}return-1}function w(e){return Array.prototype.slice.call(e,0)}function b(e,t,i){for(var n=[],o=[],s=0;s<e.length;){var a=t?e[s][t]:e[s];y(o,a)<0&&n.push(e[s]),o[s]=a,s++}return i&&(n=t?n.sort(function(e,i){return e[t]>i[t]}):n.sort()),n}function k(e,t){for(var i,o,s=t[0].toUpperCase()+t.slice(1),a=0;a<le.length;){if(i=le[a],o=i?i+s:t,o in e)return o;a++}return n}function T(){return fe++}function S(e){var t=e.ownerDocument;return t.defaultView||t.parentWindow}function x(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){u(e.options.enable,[e])&&i.handler(t)},this.init()}function C(e){var t,i=e.options.inputClass;return new(t=i?i:ve?j:ye?N:ge?B:W)(e,_)}function _(e,t,i){var n=i.pointers.length,o=i.changedPointers.length,s=t&xe&&n-o===0,a=t&(_e|Oe)&&n-o===0;i.isFirst=!!s,i.isFinal=!!a,s&&(e.session={}),i.eventType=t,O(e,i),e.emit("hammer.input",i),e.recognize(i),e.session.prevInput=i}function O(e,t){var i=e.session,n=t.pointers,o=n.length;i.firstInput||(i.firstInput=$(t)),o>1&&!i.firstMultiple?i.firstMultiple=$(t):1===o&&(i.firstMultiple=!1);var s=i.firstInput,a=i.firstMultiple,r=a?a.center:s.center,l=t.center=A(n);t.timeStamp=pe(),t.deltaTime=t.timeStamp-s.timeStamp,t.angle=z(r,l),t.distance=L(r,l),E(i,t),t.offsetDirection=P(t.deltaX,t.deltaY),t.scale=a?D(a.pointers,n):1,t.rotation=a?H(a.pointers,n):0,M(i,t);var c=e.element;m(t.srcEvent.target,c)&&(c=t.srcEvent.target),t.target=c}function E(e,t){var i=t.center,n=e.offsetDelta||{},o=e.prevDelta||{},s=e.prevInput||{};(t.eventType===xe||s.eventType===_e)&&(o=e.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=e.offsetDelta={x:i.x,y:i.y}),t.deltaX=o.x+(i.x-n.x),t.deltaY=o.y+(i.y-n.y)}function M(e,t){var i,o,s,a,r=e.lastInterval||t,l=t.timeStamp-r.timeStamp;if(t.eventType!=Oe&&(l>Se||r.velocity===n)){var c=r.deltaX-t.deltaX,d=r.deltaY-t.deltaY,u=I(l,c,d);o=u.x,s=u.y,i=he(u.x)>he(u.y)?u.x:u.y,a=P(c,d),e.lastInterval=t}else i=r.velocity,o=r.velocityX,s=r.velocityY,a=r.direction;t.velocity=i,t.velocityX=o,t.velocityY=s,t.direction=a}function $(e){for(var t=[],i=0;i<e.pointers.length;)t[i]={clientX:ue(e.pointers[i].clientX),clientY:ue(e.pointers[i].clientY)},i++;return{timeStamp:pe(),pointers:t,center:A(t),deltaX:e.deltaX,deltaY:e.deltaY}}function A(e){var t=e.length;if(1===t)return{x:ue(e[0].clientX),y:ue(e[0].clientY)};for(var i=0,n=0,o=0;t>o;)i+=e[o].clientX,n+=e[o].clientY,o++;return{x:ue(i/t),y:ue(n/t)}}function I(e,t,i){return{x:t/e||0,y:i/e||0}}function P(e,t){return e===t?Ee:he(e)>=he(t)?e>0?Me:$e:t>0?Ae:Ie}function L(e,t,i){i||(i=He);var n=t[i[0]]-e[i[0]],o=t[i[1]]-e[i[1]];return Math.sqrt(n*n+o*o)}function z(e,t,i){i||(i=He);var n=t[i[0]]-e[i[0]],o=t[i[1]]-e[i[1]];return 180*Math.atan2(o,n)/Math.PI}function H(e,t){return z(t[1],t[0],De)-z(e[1],e[0],De)}function D(e,t){return L(t[0],t[1],De)/L(e[0],e[1],De)}function W(){this.evEl=je,this.evWin=Re,this.allow=!0,this.pressed=!1,x.apply(this,arguments)}function j(){this.evEl=qe,this.evWin=Be,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function R(){this.evTarget=Ve,this.evWin=Xe,this.started=!1,x.apply(this,arguments)}function F(e,t){var i=w(e.touches),n=w(e.changedTouches);return t&(_e|Oe)&&(i=b(i.concat(n),"identifier",!0)),[i,n]}function N(){this.evTarget=Qe,this.targetIds={},x.apply(this,arguments)}function q(e,t){var i=w(e.touches),n=this.targetIds;if(t&(xe|Ce)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var o,s,a=w(e.changedTouches),r=[],l=this.target;if(s=i.filter(function(e){return m(e.target,l)}),t===xe)for(o=0;o<s.length;)n[s[o].identifier]=!0,o++;for(o=0;o<a.length;)n[a[o].identifier]&&r.push(a[o]),t&(_e|Oe)&&delete n[a[o].identifier],o++;return r.length?[b(s.concat(r),"identifier",!0),r]:void 0}function B(){x.apply(this,arguments);var e=d(this.handler,this);this.touch=new N(this.manager,e),this.mouse=new W(this.manager,e)}function Y(e,t){this.manager=e,this.set(t)}function V(e){if(g(e,tt))return tt;var t=g(e,it),i=g(e,nt);return t&&i?it+" "+nt:t||i?t?it:nt:g(e,et)?et:Je}function X(e){this.id=T(),this.manager=null,this.options=l(e||{},this.defaults),this.options.enable=h(this.options.enable,!0),this.state=ot,this.simultaneous={},this.requireFail=[]}function U(e){return e&ct?"cancel":e&rt?"end":e&at?"move":e&st?"start":""}function Q(e){return e==Ie?"down":e==Ae?"up":e==Me?"left":e==$e?"right":""}function K(e,t){var i=t.manager;return i?i.get(e):e}function Z(){X.apply(this,arguments)}function G(){Z.apply(this,arguments),this.pX=null,this.pY=null}function J(){Z.apply(this,arguments)}function ee(){X.apply(this,arguments),this._timer=null,this._input=null}function te(){Z.apply(this,arguments)}function ie(){Z.apply(this,arguments)}function ne(){X.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function oe(e,t){return t=t||{},t.recognizers=h(t.recognizers,oe.defaults.preset),new se(e,t)}function se(e,t){t=t||{},this.options=l(t,oe.defaults),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.element=e,this.input=C(this),this.touchAction=new Y(this,this.options.touchAction),ae(this,!0),a(t.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function ae(e,t){var i=e.element;a(e.options.cssProps,function(e,n){i.style[k(i.style,n)]=t?e:""})}function re(e,i){var n=t.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=i,i.target.dispatchEvent(n)}var le=["","webkit","moz","MS","ms","o"],ce=t.createElement("div"),de="function",ue=Math.round,he=Math.abs,pe=Date.now,fe=1,me=/mobile|tablet|ip(ad|hone|od)|android/i,ge="ontouchstart"in e,ve=k(e,"PointerEvent")!==n,ye=ge&&me.test(navigator.userAgent),we="touch",be="pen",ke="mouse",Te="kinect",Se=25,xe=1,Ce=2,_e=4,Oe=8,Ee=1,Me=2,$e=4,Ae=8,Ie=16,Pe=Me|$e,Le=Ae|Ie,ze=Pe|Le,He=["x","y"],De=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(S(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(S(this.element),this.evWin,this.domHandler)}};var We={mousedown:xe,mousemove:Ce,mouseup:_e},je="mousedown",Re="mousemove mouseup";c(W,x,{handler:function(e){var t=We[e.type];t&xe&&0===e.button&&(this.pressed=!0),t&Ce&&1!==e.which&&(t=_e),this.pressed&&this.allow&&(t&_e&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:ke,srcEvent:e}))}});var Fe={pointerdown:xe,pointermove:Ce,pointerup:_e,pointercancel:Oe,pointerout:Oe},Ne={2:we,3:be,4:ke,5:Te},qe="pointerdown",Be="pointermove pointerup pointercancel";e.MSPointerEvent&&(qe="MSPointerDown",Be="MSPointerMove MSPointerUp MSPointerCancel"),c(j,x,{handler:function(e){var t=this.store,i=!1,n=e.type.toLowerCase().replace("ms",""),o=Fe[n],s=Ne[e.pointerType]||e.pointerType,a=s==we,r=y(t,e.pointerId,"pointerId");o&xe&&(0===e.button||a)?0>r&&(t.push(e),r=t.length-1):o&(_e|Oe)&&(i=!0),0>r||(t[r]=e,this.callback(this.manager,o,{pointers:t,changedPointers:[e],pointerType:s,srcEvent:e}),i&&t.splice(r,1))}});var Ye={touchstart:xe,touchmove:Ce,touchend:_e,touchcancel:Oe},Ve="touchstart",Xe="touchstart touchmove touchend touchcancel";c(R,x,{handler:function(e){var t=Ye[e.type];if(t===xe&&(this.started=!0),this.started){var i=F.call(this,e,t);t&(_e|Oe)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:we,srcEvent:e})}}});var Ue={touchstart:xe,touchmove:Ce,touchend:_e,touchcancel:Oe},Qe="touchstart touchmove touchend touchcancel";c(N,x,{handler:function(e){var t=Ue[e.type],i=q.call(this,e,t);i&&this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:we,srcEvent:e})}}),c(B,x,{handler:function(e,t,i){var n=i.pointerType==we,o=i.pointerType==ke;if(n)this.mouse.allow=!1;else if(o&&!this.mouse.allow)return;t&(_e|Oe)&&(this.mouse.allow=!0),this.callback(e,t,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ke=k(ce.style,"touchAction"),Ze=Ke!==n,Ge="compute",Je="auto",et="manipulation",tt="none",it="pan-x",nt="pan-y";Y.prototype={set:function(e){e==Ge&&(e=this.compute()),Ze&&(this.manager.element.style[Ke]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return a(this.manager.recognizers,function(t){u(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),V(e.join(" "))},preventDefaults:function(e){if(!Ze){var t=e.srcEvent,i=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var n=this.actions,o=g(n,tt),s=g(n,nt),a=g(n,it);return o||s&&i&Pe||a&&i&Le?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var ot=1,st=2,at=4,rt=8,lt=rt,ct=16,dt=32;X.prototype={defaults:{},set:function(e){return r(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(s(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=K(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return s(e,"dropRecognizeWith",this)?this:(e=K(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(s(e,"requireFailure",this))return this;var t=this.requireFail;return e=K(e,this),-1===y(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(s(e,"dropRequireFailure",this))return this;e=K(e,this);var t=y(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){i.manager.emit(i.options.event+(t?U(n):""),e)}var i=this,n=this.state;rt>n&&t(!0),t(),n>=rt&&t(!0)},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=dt)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(dt|ot)))return!1;e++}return!0},recognize:function(e){var t=r({},e);return u(this.options.enable,[this,t])?(this.state&(lt|ct|dt)&&(this.state=ot),this.state=this.process(t),void(this.state&(st|at|rt|ct)&&this.tryEmit(t))):(this.reset(),void(this.state=dt))},process:function(e){},getTouchAction:function(){},reset:function(){}},c(Z,X,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,i=e.eventType,n=t&(st|at),o=this.attrTest(e);return n&&(i&Oe||!o)?t|ct:n||o?i&_e?t|rt:t&st?t|at:st:dt}}),c(G,Z,{defaults:{event:"pan",threshold:10,pointers:1,direction:ze},getTouchAction:function(){var e=this.options.direction,t=[];return e&Pe&&t.push(nt),e&Le&&t.push(it),t},directionTest:function(e){var t=this.options,i=!0,n=e.distance,o=e.direction,s=e.deltaX,a=e.deltaY;return o&t.direction||(t.direction&Pe?(o=0===s?Ee:0>s?Me:$e,i=s!=this.pX,n=Math.abs(e.deltaX)):(o=0===a?Ee:0>a?Ae:Ie,i=a!=this.pY,n=Math.abs(e.deltaY))),e.direction=o,i&&n>t.threshold&&o&t.direction},attrTest:function(e){return Z.prototype.attrTest.call(this,e)&&(this.state&st||!(this.state&st)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Q(e.direction);t&&this.manager.emit(this.options.event+t,e),this._super.emit.call(this,e)}}),c(J,Z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[tt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&st)},emit:function(e){if(this._super.emit.call(this,e),1!==e.scale){var t=e.scale<1?"in":"out";this.manager.emit(this.options.event+t,e)}}}),c(ee,X,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Je]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,s=e.deltaTime>t.time;if(this._input=e,!n||!i||e.eventType&(_e|Oe)&&!s)this.reset();else if(e.eventType&xe)this.reset(),this._timer=o(function(){this.state=lt,this.tryEmit()},t.time,this);else if(e.eventType&_e)return lt;return dt},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===lt&&(e&&e.eventType&_e?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=pe(),this.manager.emit(this.options.event,this._input)))}}),c(te,Z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[tt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&st)}}),c(ie,Z,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Pe|Le,pointers:1},getTouchAction:function(){return G.prototype.getTouchAction.call(this)},attrTest:function(e){var t,i=this.options.direction;return i&(Pe|Le)?t=e.velocity:i&Pe?t=e.velocityX:i&Le&&(t=e.velocityY),this._super.attrTest.call(this,e)&&i&e.direction&&e.distance>this.options.threshold&&he(t)>this.options.velocity&&e.eventType&_e},emit:function(e){var t=Q(e.direction);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),c(ne,X,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[et]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,s=e.deltaTime<t.time;if(this.reset(),e.eventType&xe&&0===this.count)return this.failTimeout();if(n&&s&&i){if(e.eventType!=_e)return this.failTimeout();var a=this.pTime?e.timeStamp-this.pTime<t.interval:!0,r=!this.pCenter||L(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,r&&a?this.count+=1:this.count=1,this._input=e;var l=this.count%t.taps;if(0===l)return this.hasRequireFailures()?(this._timer=o(function(){this.state=lt,this.tryEmit()},t.interval,this),st):lt}return dt},failTimeout:function(){return this._timer=o(function(){this.state=dt},this.options.interval,this),dt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==lt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),oe.VERSION="2.0.4",oe.defaults={domEvents:!1,touchAction:Ge,enable:!0,inputTarget:null,inputClass:null,preset:[[te,{enable:!1}],[J,{enable:!1},["rotate"]],[ie,{direction:Pe}],[G,{direction:Pe},["swipe"]],[ne],[ne,{event:"doubletap",taps:2},["tap"]],[ee]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ut=1,ht=2;se.prototype={set:function(e){return r(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?ht:ut},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var i,n=this.recognizers,o=t.curRecognizer;(!o||o&&o.state&lt)&&(o=t.curRecognizer=null);for(var s=0;s<n.length;)i=n[s],t.stopped===ht||o&&i!=o&&!i.canRecognizeWith(o)?i.reset():i.recognize(e),!o&&i.state&(st|at|rt)&&(o=t.curRecognizer=i),s++}},get:function(e){if(e instanceof X)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event==e)return t[i];return null},add:function(e){if(s(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(s(e,"remove",this))return this;var t=this.recognizers;return e=this.get(e),t.splice(y(t,e),1),this.touchAction.update(),this},on:function(e,t){var i=this.handlers;return a(v(e),function(e){i[e]=i[e]||[],i[e].push(t)}),this},off:function(e,t){var i=this.handlers;return a(v(e),function(e){t?i[e].splice(y(i[e],t),1):delete i[e]}),this},emit:function(e,t){this.options.domEvents&&re(e,t);var i=this.handlers[e]&&this.handlers[e].slice();if(i&&i.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](t),n++}},destroy:function(){this.element&&ae(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},r(oe,{INPUT_START:xe,INPUT_MOVE:Ce,INPUT_END:_e,INPUT_CANCEL:Oe,STATE_POSSIBLE:ot,STATE_BEGAN:st,STATE_CHANGED:at,STATE_ENDED:rt,STATE_RECOGNIZED:lt,STATE_CANCELLED:ct,STATE_FAILED:dt,DIRECTION_NONE:Ee,DIRECTION_LEFT:Me,DIRECTION_RIGHT:$e,DIRECTION_UP:Ae,DIRECTION_DOWN:Ie,DIRECTION_HORIZONTAL:Pe,DIRECTION_VERTICAL:Le,DIRECTION_ALL:ze,Manager:se,Input:x,TouchAction:Y,TouchInput:N,MouseInput:W,PointerEventInput:j,TouchMouseInput:B,SingleTouchInput:R,Recognizer:X,AttrRecognizer:Z,Tap:ne,Pan:G,Swipe:ie,Pinch:J,Rotate:te,Press:ee,on:p,off:f,each:a,merge:l,extend:r,inherit:c,bindFn:d,prefixed:k}),typeof define==de&&define.amd?define(function(){return oe}):"undefined"!=typeof module&&module.exports?module.exports=oe:e[i]=oe}(window,document,"Hammer");var Froogaloop=function(){function e(t){return new e.fn.init(t)}function t(e,t,i){return i.contentWindow.postMessage?(e=JSON.stringify({method:e,value:t}),void i.contentWindow.postMessage(e,a)):!1}function i(e){var t,i;try{t=JSON.parse(e.data),i=t.event||t.method}catch(n){}if("ready"!=i||s||(s=!0),!/^https?:\/\/player.vimeo.com/.test(e.origin))return!1;"*"===a&&(a=e.origin),e=t.value;var r=t.data,l=""===l?null:t.player_id;return t=l?o[l][i]:o[i],i=[],t?(void 0!==e&&i.push(e),r&&i.push(r),l&&i.push(l),0<i.length?t.apply(null,i):t.call()):!1}function n(e,t,i){i?(o[i]||(o[i]={}),o[i][e]=t):o[e]=t}var o={},s=!1,a="*";return e.fn=e.prototype={element:null,init:function(e){return"string"==typeof e&&(e=document.getElementById(e)),this.element=e,this},api:function(e,i){if(!this.element||!e)return!1;var o=this.element,s=""!==o.id?o.id:null,a=i&&i.constructor&&i.call&&i.apply?null:i,r=i&&i.constructor&&i.call&&i.apply?i:null;return r&&n(e,r,s),t(e,a,o),this},addEvent:function(e,i){if(!this.element)return!1;var o=this.element,a=""!==o.id?o.id:null;return n(e,i,a),"ready"!=e?t("addEventListener",e,o):"ready"==e&&s&&i.call(null,a),this},removeEvent:function(e){if(!this.element)return!1;var i=this.element,n=""!==i.id?i.id:null;e:{if(n&&o[n]){if(!o[n][e]){n=!1;break e}o[n][e]=null}else{if(!o[e]){n=!1;break e}o[e]=null}n=!0}"ready"!=e&&n&&t("removeEventListener",e,i)}},e.fn.init.prototype=e.fn,window.addEventListener?window.addEventListener("message",i,!1):window.attachEvent("onmessage",i),window.Froogaloop=window.$f=e}();!function(e,t,i,n){"use strict";var o=e("html"),s=e("body"),a=e(t),r=e(i),n=n,l=[],c="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",d=function(e){e.addEventListener("touchstart",function(){var t=e.scrollTop,i=e.scrollHeight,n=t+e.offsetHeight;0>=t?e.scrollTop=1:n>=i&&(e.scrollTop=t-1)})},u=function(t,i){var t=e(t);this.options=e.extend({name:"",open:!1,keyClose:[27],lockScroll:!0,captureKeypress:!0,classNames:{overlayOpen:"js-is-open",overlayAnimating:"js-is-animating",overflow:"js-noscroll",overlayIsVisible:"js-is-visible",overlayOpenComplete:"js-open-complete"},onOpenClick:function(){return!0},onCloseClick:function(){return!0},onOpen:function(){},onOpenEnd:function(){},onClose:function(){},onCloseEnd:function(){},onKeypress:function(e){}},i);var o=this.options.name||t.data("toggle-menu")||t.data("open-menu"),a=s.find('[data-menu-overlay="'+o+'"]');if(!a.length)throw new Error("Expected to find overlay with the name "+o);this.name=o,this.scrollTop=0,this.elements={overlay:a,btnOverlayClose:a.find("[data-menu-overlay-close]"),btnOverlayOpen:t.data("open-menu")!==n?t:null,btnOverlayToggle:t.data("toggle-menu")!==n?t:null},this.is={open:null,animating:null},this._init()};u.prototype={_init:function(){return this.elements.overlay.length?(this._setEvents(),d(this.elements.overlay[0]),void(this.options.open&&this.open())):!1},_setEvents:function(){var e=this,t=function(){e.is.open?e.close():e.open()};this.elements.btnOverlayToggle&&this.elements.btnOverlayToggle.on("click",function(e){t(),e.preventDefault()}),this.elements.btnOverlayOpen&&this.elements.btnOverlayOpen.on("click",function(t){e.options.onOpenClick()&&e.open(),t.preventDefault()}),this.elements.btnOverlayClose&&this.elements.btnOverlayClose.on("click",function(t){e.options.onCloseClick()&&e.close(),t.preventDefault()}),this.elements.overlay.find("*").on(c,function(e){e.stopPropagation()})},_setOpenEvents:function(){var e=this;this.options.lockScroll&&this.fixScroll(),this.options.captureKeypress&&r.on("keydown."+this.name,function(t){e.keypress(t)})},_removeOpenEvents:function(){this.unfixScroll(),r.off("keydown."+this.name)},_transitionBegin:function(){this.elements.overlay.addClass(this.options.classNames.overlayAnimating)},_transitionEnd:function(){var e=this;t.requestAnimationFrame(function(){e.elements.overlay.removeClass(e.options.classNames.overlayAnimating),e.is.open?(o.addClass(e.options.classNames.overflow),e.elements.overlay.addClass(e.options.classNames.overlayOpenComplete),e.options.onOpenEnd(e.options.classNames.overlayIsOpened)):(o.removeClass(e.options.classNames.overflow),e.elements.overlay.removeClass(e.options.classNames.overlayIsVisible),e.options.onCloseEnd())})},toggle:function(){this.is.open?this.close():this.open()},open:function(){var e=this;this.is.open||(this.is.open=!0,this.scrollTop=a.scrollTop(),this._setOpenEvents(),t.requestAnimationFrame(function(){e.options.onOpen(e.elements),e.elements.btnOverlayOpen&&e.elements.btnOverlayOpen.addClass(e.options.classNames.overlayOpen),e.elements.btnOverlayToggle&&e.elements.btnOverlayToggle.addClass(e.options.classNames.overlayOpen),e.elements.overlay.addClass(e.options.classNames.overlayOpen).addClass(e.options.classNames.overlayIsVisible),e._transitionBegin(),e.elements.overlay.one(c,function(t){e._transitionEnd()})}))},close:function(){var e=this;this.is.open&&(this.is.open=!1,this.options.onClose(),this._removeOpenEvents(),t.requestAnimationFrame(function(){e.elements.btnOverlayOpen&&e.elements.btnOverlayOpen.removeClass(e.options.classNames.overlayOpen),e.elements.btnOverlayToggle&&e.elements.btnOverlayToggle.removeClass(e.options.classNames.overlayOpen),e.elements.overlay.removeClass(e.options.classNames.overlayOpenComplete),e.elements.overlay.removeClass(e.options.classNames.overlayOpen),e._transitionBegin(),a.scrollTop(e.scrollTop),e.elements.overlay.one(c,function(){e._transitionEnd()})}))},keypress:function(e){this.options.keyClose.indexOf(e.which)>-1&&(this.close(),e.preventDefault()),"function"==typeof this.options.onKeypress&&this.options.onKeypress(e)},fixScroll:function(){var e=this;a.on("scroll."+this.name,function(t){a.scrollTop(e.scrollTop),t.preventDefault()})},unfixScroll:function(){a.off("scroll."+this.name)}},e.fn.toggleMenu=function(e){return this.each(function(t,i){var n=new u(i,e);return l.push(n),n})},t.SerifLabs=t.SerifLabs||{},t.SerifLabs.fn=t.SerifLabs.fn||{},t.SerifLabs.fn.ToggleMenu=u}(jQuery,window,document,void 0),function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,i){var n=(new Date).getTime(),o=Math.max(0,16-(n-e)),s=window.setTimeout(function(){t(n+o)},o);return e=n+o,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ProgressBar=e()}}(function(){var e;return function t(e,i,n){function o(a,r){if(!i[a]){if(!e[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[a]={exports:{}};e[a][0].call(d.exports,function(t){var i=e[a][1][t];return o(i?i:t)},d,d.exports,t,e,i,n)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,i,n){!function(t){"undefined"==typeof SHIFTY_DEBUG_NOW&&(SHIFTY_DEBUG_NOW=function(){return+new Date});var o=function(){"use strict";function o(){}function s(e,t){var i;for(i in e)Object.hasOwnProperty.call(e,i)&&t(i)}function a(e,t){return s(t,function(i){e[i]=t[i]}),e}function r(e,t){s(t,function(i){"undefined"==typeof e[i]&&(e[i]=t[i])})}function l(e,t,i,n,o,s,a){var r,l=(e-s)/o;for(r in t)t.hasOwnProperty(r)&&(t[r]=c(i[r],n[r],f[a[r]],l));return t}function c(e,t,i,n){return e+(t-e)*i(n)}function d(e,t){var i=p.prototype.filter,n=e._filterArgs;s(i,function(o){"undefined"!=typeof i[o][t]&&i[o][t].apply(e,n)})}function u(e,t,i,n,o,s,a,r,c){k=t+i,T=Math.min(b(),k),S=T>=k,e.isPlaying()&&!S?(c(e._timeoutHandler,y),d(e,"beforeTween"),l(T,n,o,s,i,t,a),d(e,"afterTween"),r(n)):S&&(r(s),e.stop(!0))}function h(e,t){var i={};return"string"==typeof t?s(e,function(e){i[e]=t}):s(e,function(e){i[e]||(i[e]=t[e]||g)}),i}function p(e,t){this._currentState=e||{},this._configured=!1,this._scheduleFunction=m,"undefined"!=typeof t&&this.setConfig(t)}var f,m,g="linear",v=500,y=1e3/60,w=Date.now?Date.now:function(){return+new Date},b=SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:w;m="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout;var k,T,S;return p.prototype.tween=function(e){return this._isTweening?this:(void 0===e&&this._configured||this.setConfig(e),this._start(this.get()),this.resume())},p.prototype.setConfig=function(e){e=e||{},this._configured=!0,this._pausedAtTime=null,this._start=e.start||o,this._step=e.step||o,this._finish=e.finish||o,this._duration=e.duration||v,this._currentState=e.from||this.get(),this._originalState=this.get(),this._targetState=e.to||this.get(),this._timestamp=b();var t=this._currentState,i=this._targetState;return r(i,t),this._easing=h(t,e.easing||g),this._filterArgs=[t,this._originalState,i,this._easing],d(this,"tweenCreated"),this},p.prototype.get=function(){return a({},this._currentState)},p.prototype.set=function(e){this._currentState=e},p.prototype.pause=function(){return this._pausedAtTime=b(),this._isPaused=!0,this},p.prototype.resume=function(){this._isPaused&&(this._timestamp+=b()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0;var e=this;return this._timeoutHandler=function(){u(e,e._timestamp,e._duration,e._currentState,e._originalState,e._targetState,e._easing,e._step,e._scheduleFunction)},this._timeoutHandler(),this},p.prototype.stop=function(e){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=o,e&&(a(this._currentState,this._targetState),d(this,"afterTweenEnd"),this._finish.call(this,this._currentState)),this},p.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},p.prototype.setScheduleFunction=function(e){this._scheduleFunction=e},p.prototype.dispose=function(){var e;for(e in this)this.hasOwnProperty(e)&&delete this[e]},p.prototype.filter={},p.prototype.formula={linear:function(e){return e}},f=p.prototype.formula,a(p,{now:b,each:s,tweenProps:l,tweenProp:c,applyFilter:d,shallowCopy:a,defaults:r,composeEasingObject:h}),"function"==typeof SHIFTY_DEBUG_NOW&&(t.timeoutHandler=u),"object"==typeof n?i.exports=p:"function"==typeof e&&e.amd?e(function(){return p}):"undefined"==typeof t.Tweenable&&(t.Tweenable=p),p}();!function(){o.shallowCopy(o.prototype.formula,{easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return-(Math.pow(e-1,2)-1)},easeInOutQuad:function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return Math.pow(e-1,3)+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},easeInQuart:function(e){return Math.pow(e,4)},easeOutQuart:function(e){return-(Math.pow(e-1,4)-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeInQuint:function(e){return Math.pow(e,5)},easeOutQuint:function(e){return Math.pow(e-1,5)+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},easeInSine:function(e){return-Math.cos(e*(Math.PI/2))+1},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:-Math.pow(2,-10*e)+1},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeOutBounce:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},elastic:function(e){return-1*Math.pow(4,-8*e)*Math.sin((6*e-1)*(2*Math.PI)/2)+1},swingFromTo:function(e){var t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},swingFrom:function(e){var t=1.70158;return e*e*((t+1)*e-t)},swingTo:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},bounce:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bouncePast:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?2-(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)},easeFromTo:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeFrom:function(e){return Math.pow(e,4)},easeTo:function(e){return Math.pow(e,.25)}})}(),function(){function e(e,t,i,n,o,s){function a(e){return((p*e+f)*e+m)*e}function r(e){return((g*e+v)*e+y)*e}function l(e){return(3*p*e+2*f)*e+m}function c(e){return 1/(200*e)}function d(e,t){return r(h(e,t))}function u(e){return e>=0?e:0-e}function h(e,t){var i,n,o,s,r,c;for(o=e,c=0;8>c;c++){if(s=a(o)-e,u(s)<t)return o;if(r=l(o),u(r)<1e-6)break;o-=s/r}if(i=0,n=1,o=e,i>o)return i;if(o>n)return n;for(;n>i;){if(s=a(o),u(s-e)<t)return o;
e>s?i=o:n=o,o=.5*(n-i)+i}return o}var p=0,f=0,m=0,g=0,v=0,y=0;return m=3*t,f=3*(n-t)-m,p=1-m-f,y=3*i,v=3*(o-i)-y,g=1-y-v,d(e,c(s))}function t(t,i,n,o){return function(s){return e(s,t,i,n,o,1)}}o.setBezierFunction=function(e,i,n,s,a){var r=t(i,n,s,a);return r.x1=i,r.y1=n,r.x2=s,r.y2=a,o.prototype.formula[e]=r},o.unsetBezierFunction=function(e){delete o.prototype.formula[e]}}(),function(){function e(e,t,i,n,s){return o.tweenProps(n,t,e,i,1,0,s)}var t=new o;t._filterArgs=[],o.interpolate=function(i,n,s,a){var r=o.shallowCopy({},i),l=o.composeEasingObject(i,a||"linear");t.set({});var c=t._filterArgs;c.length=0,c[0]=r,c[1]=i,c[2]=n,c[3]=l,o.applyFilter(t,"tweenCreated"),o.applyFilter(t,"beforeTween");var d=e(i,r,n,s,l);return o.applyFilter(t,"afterTween"),d}}(),function(e){function t(e,t){O.length=0;var i,n=e.length;for(i=0;n>i;i++)O.push("_"+t+"_"+i);return O}function i(e){var t=e.match(k);return t?(1===t.length||e[0].match(b))&&t.unshift(""):t=["",""],t.join(_)}function n(t){e.each(t,function(e){var i=t[e];"string"==typeof i&&i.match(C)&&(t[e]=o(i))})}function o(e){return l(C,e,s)}function s(e){var t=a(e);return"rgb("+t[0]+","+t[1]+","+t[2]+")"}function a(e){return e=e.replace(/#/,""),3===e.length&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),E[0]=r(e.substr(0,2)),E[1]=r(e.substr(2,2)),E[2]=r(e.substr(4,2)),E}function r(e){return parseInt(e,16)}function l(e,t,i){var n=t.match(e),o=t.replace(e,_);if(n)for(var s,a=n.length,r=0;a>r;r++)s=n.shift(),o=o.replace(_,i(s));return o}function c(e){return l(S,e,d)}function d(e){for(var t=e.match(T),i=t.length,n=e.match(x)[0],o=0;i>o;o++)n+=parseInt(t[o],10)+",";return n=n.slice(0,-1)+")"}function u(n){var o={};return e.each(n,function(e){var s=n[e];if("string"==typeof s){var a=v(s);o[e]={formatString:i(s),chunkNames:t(a,e)}}}),o}function h(t,i){e.each(i,function(e){for(var n=t[e],o=v(n),s=o.length,a=0;s>a;a++)t[i[e].chunkNames[a]]=+o[a];delete t[e]})}function p(t,i){e.each(i,function(e){var n=t[e],o=f(t,i[e].chunkNames),s=m(o,i[e].chunkNames);n=g(i[e].formatString,s),t[e]=c(n)})}function f(e,t){for(var i,n={},o=t.length,s=0;o>s;s++)i=t[s],n[i]=e[i],delete e[i];return n}function m(e,t){M.length=0;for(var i=t.length,n=0;i>n;n++)M.push(e[t[n]]);return M}function g(e,t){for(var i=e,n=t.length,o=0;n>o;o++)i=i.replace(_,+t[o].toFixed(4));return i}function v(e){return e.match(T)}function y(t,i){e.each(i,function(e){for(var n=i[e],o=n.chunkNames,s=o.length,a=t[e].split(" "),r=a[a.length-1],l=0;s>l;l++)t[o[l]]=a[l]||r;delete t[e]})}function w(t,i){e.each(i,function(e){for(var n=i[e],o=n.chunkNames,s=o.length,a="",r=0;s>r;r++)a+=" "+t[o[r]],delete t[o[r]];t[e]=a.substr(1)})}var b=/(\d|\-|\.)/,k=/([^\-0-9\.]+)/g,T=/[0-9.\-]+/g,S=new RegExp("rgb\\("+T.source+/,\s*/.source+T.source+/,\s*/.source+T.source+"\\)","g"),x=/^.*\(/,C=/#([0-9]|[a-f]){3,6}/gi,_="VAL",O=[],E=[],M=[];e.prototype.filter.token={tweenCreated:function(e,t,i,o){n(e),n(t),n(i),this._tokenData=u(e)},beforeTween:function(e,t,i,n){y(n,this._tokenData),h(e,this._tokenData),h(t,this._tokenData),h(i,this._tokenData)},afterTween:function(e,t,i,n){p(e,this._tokenData),p(t,this._tokenData),p(i,this._tokenData),w(n,this._tokenData)}}}(o)}(this)},{}],2:[function(e,t,i){var n=e("./shape"),o=e("./utils"),s=function(e,t){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",n.apply(this,arguments)};s.prototype=new n,s.prototype.constructor=s,s.prototype._pathString=function(e){var t=e.strokeWidth;e.trailWidth&&e.trailWidth>e.strokeWidth&&(t=e.trailWidth);var i=50-t/2;return o.render(this._pathTemplate,{radius:i,"2radius":2*i})},s.prototype._trailString=function(e){return this._pathString(e)},t.exports=s},{"./shape":6,"./utils":8}],3:[function(e,t,i){var n=e("./shape"),o=e("./utils"),s=function(e,t){this._pathTemplate="M 0,{center} L 100,{center}",n.apply(this,arguments)};s.prototype=new n,s.prototype.constructor=s,s.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 "+t.strokeWidth),e.setAttribute("preserveAspectRatio","none")},s.prototype._pathString=function(e){return o.render(this._pathTemplate,{center:e.strokeWidth/2})},s.prototype._trailString=function(e){return this._pathString(e)},t.exports=s},{"./shape":6,"./utils":8}],4:[function(e,t,i){var n=e("./line"),o=e("./circle"),s=e("./square"),a=e("./path");t.exports={Line:n,Circle:o,Square:s,Path:a}},{"./circle":2,"./line":3,"./path":5,"./square":7}],5:[function(e,t,i){var n=e("shifty"),o=e("./utils"),s={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},a=function(e,t){t=o.extend({duration:800,easing:"linear",from:{},to:{},step:function(){}},t);var i;i=o.isString(e)?document.querySelector(e):e,this.path=i,this._opts=t,this._tweenable=null;var n=this.path.getTotalLength();this.path.style.strokeDasharray=n+" "+n,this.set(0)};a.prototype.value=function(){var e=this._getComputedDashOffset(),t=this.path.getTotalLength(),i=1-e/t;return parseFloat(i.toFixed(6),10)},a.prototype.set=function(e){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(e);var t=this._opts.step;if(o.isFunction(t)){var i=this._easing(this._opts.easing),n=this._calculateTo(e,i);t(n,this._opts.shape||this,this._opts.attachment)}},a.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},a.prototype.animate=function(e,t,i){t=t||{},o.isFunction(t)&&(i=t,t={});var s=o.extend({},t),a=o.extend({},this._opts);t=o.extend(a,t);var r=this._easing(t.easing),l=this._resolveFromAndTo(e,r,s);this.stop(),this.path.getBoundingClientRect();var c=this._getComputedDashOffset(),d=this._progressToOffset(e),u=this;this._tweenable=new n,this._tweenable.tween({from:o.extend({offset:c},l.from),to:o.extend({offset:d},l.to),duration:t.duration,easing:r,step:function(e){u.path.style.strokeDashoffset=e.offset,t.step(e,t.shape||u,t.attachment)},finish:function(e){o.isFunction(i)&&i()}})},a.prototype._getComputedDashOffset=function(){var e=window.getComputedStyle(this.path,null);return parseFloat(e.getPropertyValue("stroke-dashoffset"),10)},a.prototype._progressToOffset=function(e){var t=this.path.getTotalLength();return t-e*t},a.prototype._resolveFromAndTo=function(e,t,i){return i.from&&i.to?{from:i.from,to:i.to}:{from:this._calculateFrom(t),to:this._calculateTo(e,t)}},a.prototype._calculateFrom=function(e){return n.interpolate(this._opts.from,this._opts.to,this.value(),e)},a.prototype._calculateTo=function(e,t){return n.interpolate(this._opts.from,this._opts.to,e,t)},a.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable.dispose(),this._tweenable=null)},a.prototype._easing=function(e){return s.hasOwnProperty(e)?s[e]:e},t.exports=a},{"./utils":8,shifty:1}],6:[function(e,t,i){var n=e("./path"),o=e("./utils"),s="Object is destroyed",a=function r(e,t){if(!(this instanceof r))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=o.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{autoStyle:!0,color:null,value:"",className:"progressbar-text"}},t,!0);var i,s=this._createSvgView(this._opts);if(i=o.isString(e)?document.querySelector(e):e,!i)throw new Error("Container does not exist: "+e);this._container=i,this._container.appendChild(s.svg),this.text=null,this._opts.text.value&&(this.text=this._createTextElement(this._opts,this._container),this._container.appendChild(this.text)),this.svg=s.svg,this.path=s.path,this.trail=s.trail;var a=o.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new n(s.path,a)}};a.prototype.animate=function(e,t,i){if(null===this._progressPath)throw new Error(s);this._progressPath.animate(e,t,i)},a.prototype.stop=function(){if(null===this._progressPath)throw new Error(s);void 0!==this._progressPath&&this._progressPath.stop()},a.prototype.destroy=function(){if(null===this._progressPath)throw new Error(s);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null,null!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},a.prototype.set=function(e){if(null===this._progressPath)throw new Error(s);this._progressPath.set(e)},a.prototype.value=function(){if(null===this._progressPath)throw new Error(s);return void 0===this._progressPath?0:this._progressPath.value()},a.prototype.setText=function(e){if(null===this._progressPath)throw new Error(s);null===this.text&&(this.text=this._createTextElement(this._opts,this._container),this._container.appendChild(this.text)),this.text.removeChild(this.text.firstChild),this.text.appendChild(document.createTextNode(e))},a.prototype._createSvgView=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(t,e);var i=null;(e.trailColor||e.trailWidth)&&(i=this._createTrail(e),t.appendChild(i));var n=this._createPath(e);return t.appendChild(n),{svg:t,path:n,trail:i}},a.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 100")},a.prototype._createPath=function(e){var t=this._pathString(e);return this._createPathElement(t,e)},a.prototype._createTrail=function(e){var t=this._trailString(e),i=o.extend({},e);return i.trailColor||(i.trailColor="#eee"),i.trailWidth||(i.trailWidth=i.strokeWidth),i.color=i.trailColor,i.strokeWidth=i.trailWidth,i.fill=null,this._createPathElement(t,i)},a.prototype._createPathElement=function(e,t){var i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",e),i.setAttribute("stroke",t.color),i.setAttribute("stroke-width",t.strokeWidth),t.fill?i.setAttribute("fill",t.fill):i.setAttribute("fill-opacity","0"),i},a.prototype._createTextElement=function(e,t){var i=document.createElement("p");return i.appendChild(document.createTextNode(e.text.value)),e.text.autoStyle&&(t.style.position="relative",i.style.position="absolute",i.style.top="50%",i.style.left="50%",i.style.padding=0,i.style.margin=0,o.setStyle(i,"transform","translate(-50%, -50%)"),e.text.color?i.style.color=e.text.color:i.style.color=e.color),i.className=e.text.className,i},a.prototype._pathString=function(e){throw new Error("Override this function for each progress bar")},a.prototype._trailString=function(e){throw new Error("Override this function for each progress bar")},t.exports=a},{"./path":5,"./utils":8}],7:[function(e,t,i){var n=e("./shape"),o=e("./utils"),s=function(e,t){this._pathTemplate="M 0,{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{strokeWidth}",this._trailTemplate="M {startMargin},{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{halfOfStrokeWidth}",n.apply(this,arguments)};s.prototype=new n,s.prototype.constructor=s,s.prototype._pathString=function(e){var t=100-e.strokeWidth/2;return o.render(this._pathTemplate,{width:t,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2})},s.prototype._trailString=function(e){var t=100-e.strokeWidth/2;return o.render(this._trailTemplate,{width:t,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2,startMargin:e.strokeWidth/2-e.trailWidth/2})},t.exports=s},{"./shape":6,"./utils":8}],8:[function(e,t,i){function n(e,t,i){e=e||{},t=t||{},i=i||!1;for(var o in t)if(t.hasOwnProperty(o)){var s=e[o],a=t[o];i&&d(s)&&d(a)?e[o]=n(s,a,i):e[o]=a}return e}function o(e,t){var i=e;for(var n in t)if(t.hasOwnProperty(n)){var o=t[n],s="\\{"+n+"\\}",a=new RegExp(s,"g");i=i.replace(a,o)}return i}function s(e,t,i){for(var n=0;n<u.length;++n){var o=u[n];e.style[o+a(t)]=i}e.style[t]=i}function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}function r(e){return"string"==typeof e||e instanceof String}function l(e){return"function"==typeof e}function c(e){return"[object Array]"===Object.prototype.toString.call(e)}function d(e){if(c(e))return!1;var t=typeof e;return"object"===t&&!!e}var u="Webkit Moz O ms".split(" ");t.exports={extend:n,render:o,setStyle:s,capitalize:a,isString:r,isFunction:l,isObject:d}},{}]},{},[4])(4)}),function(e,t,i,n){"use strict";var o=i("html"),s=i(e),a=i(t),r=i.fancybox=function(){r.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/i),c=null,d=t.createTouch!==n,u=function(e){return e&&e.hasOwnProperty&&e instanceof i},h=function(e){return e&&"string"===i.type(e)},p=function(e){return h(e)&&e.indexOf("%")>0},f=function(e){return e&&!(e.style.overflow&&"hidden"===e.style.overflow)&&(e.clientWidth&&e.scrollWidth>e.clientWidth||e.clientHeight&&e.scrollHeight>e.clientHeight)},m=function(e,t){var i=parseInt(e,10)||0;return t&&p(e)&&(i=r.getViewport()[t]/100*i),Math.ceil(i)},g=function(e,t){return m(e,t)+"px"};i.extend(r,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!d,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(l?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeChange:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){return e&&(i.isPlainObject(t)||(t={}),!1!==r.close(!0))?(i.isArray(e)||(e=u(e)?i(e).get():[e]),i.each(e,function(o,s){var a,l,c,d,p,f,m,g={};"object"===i.type(s)&&(s.nodeType&&(s=i(s)),u(s)?(g={href:s.data("fancybox-href")||s.attr("href"),title:s.data("fancybox-title")||s.attr("title"),isDom:!0,element:s},i.metadata&&i.extend(!0,g,s.metadata())):g=s),a=t.href||g.href||(h(s)?s:null),l=t.title!==n?t.title:g.title||"",c=t.content||g.content,d=c?"html":t.type||g.type,!d&&g.isDom&&(d=s.data("fancybox-type"),d||(p=s.prop("class").match(/fancybox\.(\w+)/),d=p?p[1]:null)),h(a)&&(d||(r.isImage(a)?d="image":r.isSWF(a)?d="swf":"#"===a.charAt(0)?d="inline":h(s)&&(d="html",c=s)),"ajax"===d&&(f=a.split(/\s+/,2),a=f.shift(),m=f.shift())),c||("inline"===d?a?c=i(h(a)?a.replace(/.*(?=#[^\s]+$)/,""):a):g.isDom&&(c=s):"html"===d?c=a:d||a||!g.isDom||(d="inline",c=s)),i.extend(g,{href:a,type:d,content:c,title:l,selector:m}),e[o]=g}),r.opts=i.extend(!0,{},r.defaults,t),t.keys!==n&&(r.opts.keys=t.keys?i.extend({},r.defaults.keys,t.keys):!1),r.group=e,r._start(r.opts.index)):void 0},cancel:function(){var e=r.coming;e&&!1!==r.trigger("onCancel")&&(r.hideLoading(),r.ajaxLoad&&r.ajaxLoad.abort(),r.ajaxLoad=null,r.imgPreload&&(r.imgPreload.onload=r.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger("onReset").remove(),r.coming=null,r.current||r._afterZoomOut(e))},close:function(e){r.cancel(),!1!==r.trigger("beforeClose")&&(r.unbindEvents(),r.isActive&&(r.isOpen&&e!==!0?(r.isOpen=r.isOpened=!1,r.isClosing=!0,i(".fancybox-item, .fancybox-nav").remove(),r.wrap.stop(!0,!0).removeClass("fancybox-opened"),r.transitions[r.current.closeMethod]()):(i(".fancybox-wrap").stop(!0).trigger("onReset").remove(),r._afterZoomOut())))},play:function(e){var t=function(){clearTimeout(r.player.timer)},i=function(){t(),r.current&&r.player.isActive&&(r.player.timer=setTimeout(r.next,r.current.playSpeed))},n=function(){t(),a.unbind(".player"),r.player.isActive=!1,r.trigger("onPlayEnd")},o=function(){r.current&&(r.current.loop||r.current.index<r.group.length-1)&&(r.player.isActive=!0,a.bind({"onCancel.player beforeClose.player":n,"onUpdate.player":i,"beforeLoad.player":t}),i(),r.trigger("onPlayStart"))};e===!0||!r.player.isActive&&e!==!1?o():n()},next:function(e){var t=r.current;t&&(h(e)||(e=t.direction.next),r.jumpto(t.index+1,e,"next"))},prev:function(e){var t=r.current;t&&(h(e)||(e=t.direction.prev),r.jumpto(t.index-1,e,"prev"))},jumpto:function(e,t,i){var o=r.current;o&&(e=m(e),r.direction=t||o.direction[e>=o.index?"next":"prev"],r.router=i||"jumpto",o.loop&&(0>e&&(e=o.group.length+e%o.group.length),e%=o.group.length),o.group[e]!==n&&(r.cancel(),r._start(e)))},reposition:function(e,t){var n,o=r.current,s=o?o.wrap:null;s&&(n=r._getPosition(t),e&&"scroll"===e.type?(delete n.position,s.stop(!0,!0).animate(n,200)):(s.css(n),o.pos=i.extend({},o.dim,n)))},update:function(e){var t=e&&e.type,i=!t||"orientationchange"===t;i&&(clearTimeout(c),c=null),r.isOpen&&!c&&(c=setTimeout(function(){var n=r.current;n&&!r.isClosing&&(r.wrap.removeClass("fancybox-tmp"),(i||"load"===t||"resize"===t&&n.autoResize)&&r._setDimension(),"scroll"===t&&n.canShrink||r.reposition(e),r.trigger("onUpdate"),c=null)},i&&!d?0:300))},toggle:function(e){r.isOpen&&(r.current.fitToView="boolean"===i.type(e)?e:!r.current.fitToView,d&&(r.wrap.removeAttr("style").addClass("fancybox-tmp"),r.trigger("onUpdate")),r.update())},hideLoading:function(){a.unbind(".loading"),i("#fancybox-loading").remove()},showLoading:function(){var e,t;r.hideLoading(),e=i('<div id="fancybox-loading"><div></div></div>').click(r.cancel).appendTo("body"),a.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),r.cancel())}),r.defaults.fixed||(t=r.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var t=r.current&&r.current.locked||!1,i={x:s.scrollLeft(),y:s.scrollTop()};return t?(i.w=t[0].clientWidth,i.h=t[0].clientHeight):(i.w=d&&e.innerWidth?e.innerWidth:s.width(),i.h=d&&e.innerHeight?e.innerHeight:s.height()),i},unbindEvents:function(){r.wrap&&u(r.wrap)&&r.wrap.unbind(".fb"),a.unbind(".fb"),s.unbind(".fb")},bindEvents:function(){var e,t=r.current;t&&(s.bind("orientationchange.fb"+(d?"":" resize.fb")+(t.autoCenter&&!t.locked?" scroll.fb":""),r.update),e=t.keys,e&&a.bind("keydown.fb",function(o){var s=o.which||o.keyCode,a=o.target||o.srcElement;return 27===s&&r.coming?!1:void(o.ctrlKey||o.altKey||o.shiftKey||o.metaKey||a&&(a.type||i(a).is("[contenteditable]"))||i.each(e,function(e,a){return t.group.length>1&&a[s]!==n?(r[e](a[s]),o.preventDefault(),!1):i.inArray(s,a)>-1?(r[e](),o.preventDefault(),!1):void 0}))}),i.fn.mousewheel&&t.mouseWheel&&r.wrap.bind("mousewheel.fb",function(e,n,o,s){for(var a=e.target||null,l=i(a),c=!1;l.length&&!(c||l.is(".fancybox-skin")||l.is(".fancybox-wrap"));)c=f(l[0]),l=i(l).parent();0===n||c||r.group.length>1&&!t.canShrink&&(s>0||o>0?r.prev(s>0?"down":"left"):(0>s||0>o)&&r.next(0>s?"up":"right"),e.preventDefault())}))},trigger:function(e,t){var n,o=t||r.coming||r.current;if(o){if(i.isFunction(o[e])&&(n=o[e].apply(o,Array.prototype.slice.call(arguments,1))),n===!1)return!1;o.helpers&&i.each(o.helpers,function(t,n){n&&r.helpers[t]&&i.isFunction(r.helpers[t][e])&&r.helpers[t][e](i.extend(!0,{},r.helpers[t].defaults,n),o)}),a.trigger(e)}},isImage:function(e){return h(e)&&e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(e){return h(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t,n,o,s,a,l={};if(e=m(e),t=r.group[e]||null,!t)return!1;if(l=i.extend(!0,{},r.opts,t),s=l.margin,a=l.padding,"number"===i.type(s)&&(l.margin=[s,s,s,s]),"number"===i.type(a)&&(l.padding=[a,a,a,a]),l.modal&&i.extend(!0,l,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),l.autoSize&&(l.autoWidth=l.autoHeight=!0),"auto"===l.width&&(l.autoWidth=!0),"auto"===l.height&&(l.autoHeight=!0),l.group=r.group,l.index=e,r.coming=l,!1===r.trigger("beforeLoad"))return void(r.coming=null);if(o=l.type,n=l.href,!o)return r.coming=null,r.current&&r.router&&"jumpto"!==r.router?(r.current.index=e,r[r.router](r.direction)):!1;if(r.isActive=!0,("image"===o||"swf"===o)&&(l.autoHeight=l.autoWidth=!1,l.scrolling="visible"),"image"===o&&(l.aspectRatio=!0),"iframe"===o&&d&&(l.scrolling="scroll"),l.wrap=i(l.tpl.wrap).addClass("fancybox-"+(d?"mobile":"desktop")+" fancybox-type-"+o+" fancybox-tmp "+l.wrapCSS).appendTo(l.parent||"body"),i.extend(l,{skin:i(".fancybox-skin",l.wrap),outer:i(".fancybox-outer",l.wrap),inner:i(".fancybox-inner",l.wrap)}),i.each(["Top","Right","Bottom","Left"],function(e,t){l.skin.css("padding"+t,g(l.padding[e]))}),r.trigger("onReady"),"inline"===o||"html"===o){if(!l.content||!l.content.length)return r._error("content")}else if(!n)return r._error("href");"image"===o?r._loadImage():"ajax"===o?r._loadAjax():"iframe"===o?r._loadIframe():r._afterLoad()},_error:function(e){i.extend(r.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:r.coming.tpl.error}),r._afterLoad()},_loadImage:function(){var e=r.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,r.coming.width=this.width/r.opts.pixelRatio,r.coming.height=this.height/r.opts.pixelRatio,r._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,r._error("image")},e.src=r.coming.href,e.complete!==!0&&r.showLoading()},_loadAjax:function(){var e=r.coming;r.showLoading(),r.ajaxLoad=i.ajax(i.extend({},e.ajax,{url:e.href,error:function(e,t){r.coming&&"abort"!==t?r._error("ajax",e):r.hideLoading()},success:function(t,i){"success"===i&&(e.content=t,r._afterLoad())}}))},_loadIframe:function(){var e=r.coming,t=i(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",d?"auto":e.iframe.scrolling).attr("src",e.href);i(e.wrap).bind("onReset",function(){try{i(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}}),e.iframe.preload&&(r.showLoading(),t.one("load",function(){i(this).data("ready",1),d||i(this).bind("load.fb",r.update),i(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),r._afterLoad()})),e.content=t.appendTo(e.inner),e.iframe.preload||r._afterLoad()},_preloadImages:function(){var e,t,i=r.group,n=r.current,o=i.length,s=n.preload?Math.min(n.preload,o-1):0;for(t=1;s>=t;t+=1)e=i[(n.index+t)%o],"image"===e.type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e,t,n,o,s,a,l=r.coming,c=r.current,d="fancybox-placeholder";if(r.hideLoading(),l&&r.isActive!==!1){if(!1===r.trigger("afterLoad",l,c))return l.wrap.stop(!0).trigger("onReset").remove(),void(r.coming=null);switch(c&&(r.trigger("beforeChange",c),c.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),r.unbindEvents(),e=l,t=l.content,n=l.type,o=l.scrolling,i.extend(r,{wrap:e.wrap,skin:e.skin,outer:e.outer,inner:e.inner,current:e,previous:c}),s=e.href,n){case"inline":case"ajax":case"html":e.selector?t=i("<div>").html(t).find(e.selector):u(t)&&(t.data(d)||t.data(d,i('<div class="'+d+'"></div>').insertAfter(t).hide()),t=t.show().detach(),e.wrap.bind("onReset",function(){i(this).find(t).length&&t.hide().replaceAll(t.data(d)).data(d,!1)}));break;case"image":t=e.tpl.image.replace("{href}",s);break;case"swf":t='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+s+'"></param>',a="",i.each(e.swf,function(e,i){t+='<param name="'+e+'" value="'+i+'"></param>',a+=" "+e+'="'+i+'"'}),t+='<embed src="'+s+'" type="application/x-shockwave-flash" width="100%" height="100%"'+a+"></embed></object>"}u(t)&&t.parent().is(e.inner)||e.inner.append(t),r.trigger("beforeShow"),e.inner.css("overflow","yes"===o?"scroll":"no"===o?"hidden":o),r._setDimension(),r.reposition(),r.isOpen=!1,r.coming=null,r.bindEvents(),r.isOpened?c.prevMethod&&r.transitions[c.prevMethod]():i(".fancybox-wrap").not(e.wrap).stop(!0).trigger("onReset").remove(),r.transitions[r.isOpened?e.nextMethod:e.openMethod](),r._preloadImages()}},_setDimension:function(){var e,t,n,o,s,a,l,c,d,u,h,f,v,y,w,b=r.getViewport(),k=0,T=!1,S=!1,x=r.wrap,C=r.skin,_=r.inner,O=r.current,E=O.width,M=O.height,$=O.minWidth,A=O.minHeight,I=O.maxWidth,P=O.maxHeight,L=O.scrolling,z=O.scrollOutside?O.scrollbarWidth:0,H=O.margin,D=m(H[1]+H[3]),W=m(H[0]+H[2]);if(x.add(C).add(_).width("auto").height("auto").removeClass("fancybox-tmp"),e=m(C.outerWidth(!0)-C.width()),t=m(C.outerHeight(!0)-C.height()),n=D+e,o=W+t,s=p(E)?(b.w-n)*m(E)/100:E,a=p(M)?(b.h-o)*m(M)/100:M,"iframe"===O.type){if(y=O.content,O.autoHeight&&1===y.data("ready"))try{y[0].contentWindow.document.location&&(_.width(s).height(9999),w=y.contents().find("body"),z&&w.css("overflow-x","hidden"),a=w.outerHeight(!0))}catch(j){}}else(O.autoWidth||O.autoHeight)&&(_.addClass("fancybox-tmp"),O.autoWidth||_.width(s),O.autoHeight||_.height(a),O.autoWidth&&(s=_.width()),O.autoHeight&&(a=_.height()),_.removeClass("fancybox-tmp"));if(E=m(s),M=m(a),d=s/a,$=m(p($)?m($,"w")-n:$),I=m(p(I)?m(I,"w")-n:I),A=m(p(A)?m(A,"h")-o:A),P=m(p(P)?m(P,"h")-o:P),l=I,c=P,O.fitToView&&(I=Math.min(b.w-n,I),P=Math.min(b.h-o,P)),f=b.w-D,v=b.h-W,O.aspectRatio?(E>I&&(E=I,M=m(E/d)),M>P&&(M=P,E=m(M*d)),$>E&&(E=$,M=m(E/d)),A>M&&(M=A,E=m(M*d))):(E=Math.max($,Math.min(E,I)),O.autoHeight&&"iframe"!==O.type&&(_.width(E),M=_.height()),M=Math.max(A,Math.min(M,P))),O.fitToView)if(_.width(E).height(M),x.width(E+e),u=x.width(),h=x.height(),O.aspectRatio)for(;(u>f||h>v)&&E>$&&M>A&&!(k++>19);)M=Math.max(A,Math.min(P,M-10)),E=m(M*d),$>E&&(E=$,M=m(E/d)),E>I&&(E=I,M=m(E/d)),_.width(E).height(M),x.width(E+e),u=x.width(),h=x.height();else E=Math.max($,Math.min(E,E-(u-f))),M=Math.max(A,Math.min(M,M-(h-v)));z&&"auto"===L&&a>M&&f>E+e+z&&(E+=z),_.width(E).height(M),x.width(E+e),u=x.width(),h=x.height(),T=(u>f||h>v)&&E>$&&M>A,S=O.aspectRatio?l>E&&c>M&&s>E&&a>M:(l>E||c>M)&&(s>E||a>M),i.extend(O,{dim:{width:g(u),height:g(h)},origWidth:s,origHeight:a,canShrink:T,canExpand:S,wPadding:e,hPadding:t,wrapSpace:h-C.outerHeight(!0),skinSpace:C.height()-M}),!y&&O.autoHeight&&M>A&&P>M&&!S&&_.height("auto")},_getPosition:function(e){var t=r.current,i=r.getViewport(),n=t.margin,o=r.wrap.width()+n[1]+n[3],s=r.wrap.height()+n[0]+n[2],a={position:"absolute",top:n[0],left:n[3]};return t.autoCenter&&t.fixed&&!e&&s<=i.h&&o<=i.w?a.position="fixed":t.locked||(a.top+=i.y,a.left+=i.x),a.top=g(Math.max(a.top,a.top+(i.h-s)*t.topRatio)),a.left=g(Math.max(a.left,a.left+(i.w-o)*t.leftRatio)),a},_afterZoomIn:function(){var e=r.current;e&&(r.isOpen=r.isOpened=!0,r.wrap.css("overflow","visible").addClass("fancybox-opened"),r.update(),(e.closeClick||e.nextClick&&r.group.length>1)&&r.inner.css("cursor","pointer").bind("click.fb",function(t){i(t.target).is("a")||i(t.target).parent().is("a")||(t.preventDefault(),r[e.closeClick?"close":"next"]())}),e.closeBtn&&i(e.tpl.closeBtn).appendTo(r.skin).bind("click.fb",function(e){e.preventDefault(),r.close()}),e.arrows&&r.group.length>1&&((e.loop||e.index>0)&&i(e.tpl.prev).appendTo(r.outer).bind("click.fb",r.prev),(e.loop||e.index<r.group.length-1)&&i(e.tpl.next).appendTo(r.outer).bind("click.fb",r.next)),r.trigger("afterShow"),e.loop||e.index!==e.group.length-1?r.opts.autoPlay&&!r.player.isActive&&(r.opts.autoPlay=!1,r.play()):r.play(!1))},_afterZoomOut:function(e){e=e||r.current,i(".fancybox-wrap").trigger("onReset").remove(),i.extend(r,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),r.trigger("afterClose",e)}}),r.transitions={getOrigPosition:function(){var e=r.current,t=e.element,i=e.orig,n={},o=50,s=50,a=e.hPadding,l=e.wPadding,c=r.getViewport();return!i&&e.isDom&&t.is(":visible")&&(i=t.find("img:first"),i.length||(i=t)),u(i)?(n=i.offset(),i.is("img")&&(o=i.outerWidth(),s=i.outerHeight())):(n.top=c.y+(c.h-s)*e.topRatio,n.left=c.x+(c.w-o)*e.leftRatio),("fixed"===r.wrap.css("position")||e.locked)&&(n.top-=c.y,n.left-=c.x),n={top:g(n.top-a*e.topRatio),left:g(n.left-l*e.leftRatio),width:g(o+l),height:g(s+a)}},step:function(e,t){var i,n,o,s=t.prop,a=r.current,l=a.wrapSpace,c=a.skinSpace;("width"===s||"height"===s)&&(i=t.end===t.start?1:(e-t.start)/(t.end-t.start),r.isClosing&&(i=1-i),n="width"===s?a.wPadding:a.hPadding,o=e-n,r.skin[s](m("width"===s?o:o-l*i)),r.inner[s](m("width"===s?o:o-l*i-c*i)))},zoomIn:function(){var e=r.current,t=e.pos,n=e.openEffect,o="elastic"===n,s=i.extend({opacity:1},t);delete s.position,o?(t=this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):"fade"===n&&(t.opacity=.1),r.wrap.css(t).animate(s,{duration:"none"===n?0:e.openSpeed,easing:e.openEasing,step:o?this.step:null,complete:r._afterZoomIn})},zoomOut:function(){var e=r.current,t=e.closeEffect,i="elastic"===t,n={opacity:.1};i&&(n=this.getOrigPosition(),e.closeOpacity&&(n.opacity=.1)),r.wrap.animate(n,{duration:"none"===t?0:e.closeSpeed,easing:e.closeEasing,step:i?this.step:null,complete:r._afterZoomOut})},changeIn:function(){var e,t=r.current,i=t.nextEffect,n=t.pos,o={opacity:1},s=r.direction,a=200;n.opacity=.1,"elastic"===i&&(e="down"===s||"up"===s?"top":"left","down"===s||"right"===s?(n[e]=g(m(n[e])-a),o[e]="+="+a+"px"):(n[e]=g(m(n[e])+a),o[e]="-="+a+"px")),"none"===i?r._afterZoomIn():r.wrap.css(n).animate(o,{duration:t.nextSpeed,easing:t.nextEasing,complete:r._afterZoomIn})},changeOut:function(){var e=r.previous,t=e.prevEffect,n={opacity:.1},o=r.direction,s=200;"elastic"===t&&(n["down"===o||"up"===o?"top":"left"]=("up"===o||"left"===o?"-":"+")+"="+s+"px"),e.wrap.animate(n,{duration:"none"===t?0:e.prevSpeed,easing:e.prevEasing,complete:function(){i(this).trigger("onReset").remove()}})}},r.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!d,fixed:!0},overlay:null,fixed:!1,el:i("html"),create:function(e){e=i.extend({},this.defaults,e),this.overlay&&this.close(),this.overlay=i('<div class="fancybox-overlay"></div>').appendTo(r.coming?r.coming.parent:e.parent),this.fixed=!1,e.fixed&&r.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(e){var t=this;e=i.extend({},this.defaults,e),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(e),this.fixed||(s.bind("resize.overlay",i.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind("click.overlay",function(e){return i(e.target).hasClass("fancybox-overlay")?(r.isActive?r.close():t.close(),!1):void 0}),this.overlay.css(e.css).show()},close:function(){var e,t;s.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(i(".fancybox-margin").removeClass("fancybox-margin"),e=s.scrollTop(),t=s.scrollLeft(),this.el.removeClass("fancybox-lock"),s.scrollTop(e).scrollLeft(t)),i(".fancybox-overlay").remove().hide(),i.extend(this,{overlay:null,fixed:!1
})},update:function(){var e,i="100%";this.overlay.width(i).height("100%"),l?(e=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),a.width()>e&&(i=a.width())):a.width()>s.width()&&(i=a.width()),this.overlay.width(i).height(a.height())},onReady:function(e,t){var n=this.overlay;i(".fancybox-overlay").stop(!0,!0),n||this.create(e),e.locked&&this.fixed&&t.fixed&&(n||(this.margin=a.height()>s.height()?i("html").css("margin-right").replace("px",""):!1),t.locked=this.overlay.append(t.wrap),t.fixed=!1),e.showEarly===!0&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){var n,o;t.locked&&(this.margin!==!1&&(i("*").filter(function(){return"fixed"===i(this).css("position")&&!i(this).hasClass("fancybox-overlay")&&!i(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),n=s.scrollTop(),o=s.scrollLeft(),this.el.addClass("fancybox-lock"),s.scrollTop(n).scrollLeft(o)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!r.coming&&this.overlay.fadeOut(e.speedOut,i.proxy(this.close,this))}},r.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var t,n,o=r.current,s=o.title,a=e.type;if(i.isFunction(s)&&(s=s.call(o.element,o)),h(s)&&""!==i.trim(s)){switch(t=i('<div class="fancybox-title fancybox-title-'+a+'-wrap">'+s+"</div>"),a){case"inside":n=r.skin;break;case"outside":n=r.wrap;break;case"over":n=r.inner;break;default:n=r.skin,t.appendTo("body"),l&&t.width(t.width()),t.wrapInner('<span class="child"></span>'),r.current.margin[2]+=Math.abs(m(t.css("margin-bottom")))}t["top"===e.position?"prependTo":"appendTo"](n)}}},i.fn.fancybox=function(e){var t,n=i(this),o=this.selector||"",s=function(s){var a,l,c=i(this).blur(),d=t;s.ctrlKey||s.altKey||s.shiftKey||s.metaKey||c.is(".fancybox-wrap")||(a=e.groupAttr||"data-fancybox-group",l=c.attr(a),l||(a="rel",l=c.get(0)[a]),l&&""!==l&&"nofollow"!==l&&(c=o.length?i(o):n,c=c.filter("["+a+'="'+l+'"]'),d=c.index(this)),e.index=d,r.open(c,e)!==!1&&s.preventDefault())};return e=e||{},t=e.index||0,o&&e.live!==!1?a.undelegate(o,"click.fb-start").delegate(o+":not('.fancybox-item, .fancybox-nav')","click.fb-start",s):n.unbind("click.fb-start").bind("click.fb-start",s),this.filter("[data-fancybox-start=1]").trigger("click"),this},a.ready(function(){var t,s;i.scrollbarWidth===n&&(i.scrollbarWidth=function(){var e=i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=e.children(),n=t.innerWidth()-t.height(99).innerWidth();return e.remove(),n}),i.support.fixedPosition===n&&(i.support.fixedPosition=function(){var e=i('<div style="position:fixed;top:20px;"></div>').appendTo("body"),t=20===e[0].offsetTop||15===e[0].offsetTop;return e.remove(),t}()),i.extend(r.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i("body")}),t=i(e).width(),o.addClass("fancybox-lock-test"),s=i(e).width(),o.removeClass("fancybox-lock-test"),i("<style type='text/css'>.fancybox-margin{margin-right:"+(s-t)+"px;}</style>").appendTo("head")})}(window,document,jQuery),function(e){"use strict";var t=e.fancybox,i=function(t,i,n){return n=n||"","object"===e.type(n)&&(n=e.param(n,!0)),e.each(i,function(e,i){t=t.replace("$"+e,i||"")}),n.length&&(t+=(t.indexOf("?")>0?"&":"?")+n),t};t.helpers.media={defaults:{youtube:{matcher:/(youtube\.com|youtu\.be|youtube-nocookie\.com)\/(watch\?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*)).*/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"opaque",enablejsapi:1},type:"iframe",url:"//www.youtube.com/embed/$3"},vimeo:{matcher:/(?:vimeo(?:pro)?.com)\/(?:[^\d]+)?(\d+)(?:.*)/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},type:"iframe",url:"//player.vimeo.com/video/$1"},metacafe:{matcher:/metacafe.com\/(?:watch|fplayer)\/([\w\-]{1,10})/,params:{autoPlay:"yes"},type:"swf",url:function(t,i,n){return n.swf.flashVars="playerVars="+e.param(i,!0),"//www.metacafe.com/fplayer/"+t[1]+"/.swf"}},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"swf",url:"//www.dailymotion.com/swf/video/$1"},twitvid:{matcher:/twitvid\.com\/([a-zA-Z0-9_\-\?\=]+)/i,params:{autoplay:0},type:"iframe",url:"//www.twitvid.com/embed.php?guid=$1"},twitpic:{matcher:/twitpic\.com\/(?!(?:place|photos|events)\/)([a-zA-Z0-9\?\=\-]+)/i,type:"image",url:"//twitpic.com/show/full/$1/"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},google_maps:{matcher:/maps\.google\.([a-z]{2,3}(\.[a-z]{2})?)\/(\?ll=|maps\?)(.*)/i,type:"iframe",url:function(e){return"//maps.google."+e[1]+"/"+e[3]+e[4]+"&output="+(e[4].indexOf("layer=c")>0?"svembed":"embed")}}},beforeLoad:function(t,n){var o,s,a,r,l=n.href||"",c=!1;for(o in t)if(t.hasOwnProperty(o)&&(s=t[o],a=l.match(s.matcher))){c=s.type,r=e.extend(!0,{},s.params,n[o]||(e.isPlainObject(t[o])?t[o].params:null)),l="function"===e.type(s.url)?s.url.call(this,a,r,n):i(s.url,a,r);break}c&&(n.href=l,n.type=c,n.autoHeight=!1)}}}(jQuery),function(e,t,i){"use strict";var n=e(t),o=e("[data-wrap-outer]"),s=[],a={};n.on("resize orientationchange",function(){r()});var r=function(){l(),c()},l=function(){a.width=Math.max(t.innerWidth||n.width()),a.height=Math.max(t.innerHeight||n.height())},c=function(){e.each(s,function(e,t){t.resize()})};r(),t._carousels=s;var d=function(t,i,n){i=e(i),this.elements={wrap:e(t),progress:e("[data-progress-bar]"),link:e("<a />",{"class":"carousel-link  u-center-vh"}),linkImage:e("<img />",{src:"https://cdn.affinity.serif.com/img/home/link.svg",alt:""}).attr("data-svg-png",""),carousel:{container:i,header:e("[data-page-header]"),inner:i.find("[data-carousel-inner]"),overlay:e("<div />",{"class":"vertical-carousel-overlay"}),overlayBackground:e("<div />",{"class":"vertical-carousel-overlay overlay-background"})},navigation:{container:e("<div />",{"class":"vertical-carousel-navigation-container"}),before:{container:e("<div />",{"class":"vertical-carousel-navigation navigation-subtitles navigation-before"}),list:e("<ul />")},main:{container:e("<div />",{"class":"vertical-carousel-navigation navigation-main"}),list:e("<ul />")},after:{container:e("<div />",{"class":"vertical-carousel-navigation navigation-subtitles navigation-after"}),list:e("<ul />")}}},this.autoplayTimer=null,this.options=e.extend({MQMinWidths:{small:600,medium:1280},debug:!1,slideIndex:0,smallModeWidth:881,smallModeImageHeight:400,autoplay:!0,autoplayDelay:10,zoomSpeed:30,zoomScale:1.4,zoomX:0,zoomY:0,zoomRotation:.001,zoomEase:Power0.easeNone,animationSpeed:1,animationDelay:0,animationEase:Expo.easeInOut,focusDelay:0,focusSpeed:.4,focusOpacity:.4,focusBlurAmount:5,introFadeInSpeed:.8,introFadeInEase:Expo.easeInOut,introScaleStart:.85,introScaleSpeed:1,introScaleEase:Expo.easeIn,navDelay:.2,navSpeed:1,navHeight:80,navEase:Expo.easeIn},n),this.MQLarge="large",this.MQMinWidths=[],this.slides=[],this.slideIndex=this.options.slideIndex,this.animation={},this.locationHash={},this.hammer=null,this.is={scrolling:!1,zooming:!1,focused:!1,loading:!1,ending:!1},this.navigationHeight={main:0,subtitle:0},this.mode=null,this.circle=null,this._init()};d.prototype={modes:{small:"small",main:"main"},_init:function(){var t=this;this._buildMQMinWidths(),this._buildSlides(),this._locationHashSetSlideIndex(),this._locationHashUpdate(),this._buildNavigation(),this.changeMode(),this._initCarouselLoading(),this._loadImages(!1,function(i){null!==t.circle&&t.circle.animate(i/100),100===i&&(null!==t.circle&&TweenLite.to(t.elements.progress,1,{delay:.2,opacity:0,onComplete:function(){null!==t.circle&&e(t.circle).remove()}}),t._initCarouselReady())}),this.resize()},_initCarouselLoading:function(){this.mode!==this.modes.small&&(this.elements.carousel.container.addClass("carousel-loading"),this.circle=new ProgressBar.Circle(this.elements.progress[0],{color:"#fff",trailColor:"#777",duration:100,strokeWidth:6,trailWidth:6,easing:"easeInOut"}))},_initCarouselReady:function(){var e=this.options,t=this.slides[this.slideIndex].elements.backgroundContainer;e.debug&&console.log("Received the ready signal for the carousel."),TweenLite.fromTo(this.elements.carousel.container,e.introFadeInSpeed,{opacity:0},{delay:.4,opacity:1,ease:e.introFadeInEase}),this.mode!==this.modes.small&&TweenLite.fromTo(t,e.introScaleSpeed,{scale:e.introScaleStart},{scale:1,ease:e.introScaleEase}),this.elements.carousel.container.addClass("carousel-loaded").removeClass("carousel-loading")},_initCarouselResume:function(){var e=this.options,t=this.slides[this.slideIndex].elements.backgroundContainer;this.mode!==this.modes.small&&TweenLite.fromTo(t,e.introScaleSpeed,{scale:e.introScaleStart},{scale:1,ease:e.introScaleEase}),TweenLite.to(this.elements.carousel.container,2,{opacity:1}),this.elements.navigation.container.css("opacity",1)},_initCarouselEnd:function(e){this.is.ending=!0;var i=this.slides[this.slideIndex].elements.backgroundContainer,n=this.options,o=this;this._unbindEvents(),this.animation.zoom.kill();var s=(TweenLite.to(this.elements.navigation.container,.6,{opacity:0,ease:Expo.easeOut}),TweenLite.to(this.elements.link,.6,{opacity:0,ease:Expo.easeOut}),TweenLite.to(i,.4,{scale:n.introScaleStart}));TweenLite.to(this.elements.carousel.container,1,{opacity:0,onComplete:function(){s.restart().kill(),o.is.ending=!1,t.location.href=e}})},_buildMQMinWidths:function(){var e=[];for(var t in this.options.MQMinWidths)e.push({name:t,width:this.options.MQMinWidths[t]});e.sort(function(e,t){return e.width<t.width?-1:e.width>t.width?1:0}),this.MQMinWidths=e},_buildSlides:function(){var t=this,i=this.elements.navigation;this.elements.carousel.container.find("[data-carousel-slide]").each(function(n,o){var s=e(this).find("[data-slide-meta]"),a=e(this).find("[data-slide-background]"),r=a.find("img"),l=r.attr("src"),c=s.find("h2").text(),d={meta:{index:n,href:s.find("a").attr("href"),title:c,titleSlug:"/"+c.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""),subtitle:s.find("h3").text()},elements:{slide:e(this),backgroundContainer:a,backgroundImage:r,description:s},image:{loaded:{small:!0},filename:l.substr(0,l.lastIndexOf(".")).replace("--small",""),extension:l.split(".").pop(),dimensions:{height:r.height(),width:r.width(),ratio:r.height()/r.width()}}};t.locationHash[d.meta.titleSlug]=n,i.before.list.append(e("<li><a>"+d.meta.title+'</a><span class="navigation-spacer  navigation-spacer--up"></span></li>')),i.main.list.append(e('<li><a href="'+d.meta.href+'">'+d.meta.title+"</a><h3>"+d.meta.subtitle+"</h3>")),i.after.list.append(e('<li><span class="navigation-spacer"></span><a>'+d.meta.title+"</a></li>")),t.slides.push(d)})},_buildNavigation:function(){var e=this.elements.navigation,t=this.elements.carousel;e.before.container.append(e.before.list),e.main.container.append(e.main.list),e.after.container.append(e.after.list),e.container.append(e.before.container).append(e.main.container).append(e.after.container),t.overlay.append(t.overlayBackground),t.overlay.append(e.container),this.elements.link.append(this.elements.linkImage),this.elements.link.attr("href",this.slides[this.slideIndex].meta.href),t.overlay.append(this.elements.link),t.inner.after(t.overlay),this.navigationHeight.main=e.main.list.find("li").outerHeight(),this.navigationHeight.subtitle=e.before.list.find("li").outerHeight(),this._setDefaultNavigationPositions()},_loadImages:function(t,i){if(this.is.loading)return this.options.debug&&console.log("Skipping loading images as image loading operation has not yet completed"),!1;this.is.loading=!0;var n=this,o=t?this.slides.length:this.slideIndex+1,s=0,a=0,r=this._getCurrentMQ(),l=function(){var e=Math.round(a/s*100);"function"==typeof i&&i(e),100===e&&(n.is.loading=!1)},c=function(e,t){a++,e.elements.backgroundImage.attr("src")!==t&&(e.elements.backgroundImage.attr("src",t),n.options.debug&&console.log("Updated image for slide "+e.meta.index+": "+t)),l()};e.each(this.slides,function(t,i){if(o>=t){var a=i.image.filename+"--"+r+"."+i.image.extension;s++,i.image.loaded.hasOwnProperty(r)?c(i,a):(n.is.loading=!0,i.image.loaded[r]=new Image,e(i.image.loaded[r]).on("load",function(){c(i,a)}),i.image.loaded[r].src=a)}})},_getCurrentMQ:function(){for(var e=this.MQLarge,t=0;t<this.MQMinWidths.length;t++)if(a.width<=this.MQMinWidths[t].width){e=this.MQMinWidths[t].name;break}return e},_setDefaultNavigationPositions:function(){var e=this.elements.navigation,t=this.slideIndex*this.navigationHeight.subtitle;e.before.list.css("margin-top",-t),e.after.list.css("margin-top",-(t+this.navigationHeight.subtitle)),e.main.list.css("margin-top",-(this.slideIndex*this.navigationHeight.main))},_bindEvents:function(){var i=this,o=(this.options,e("html"));o.on("mousedown.VerticalCarousel",function(e){return e.preventDefault(),!1}),this.elements.navigation.before.list.find("li").each(function(n,o){e(this).on("touchstart.VerticalCarousel click.VerticalCarousel",function(e){return i.changeSlide(n),t.clearTimeout(i.autoplayTimer),!1})}),this.elements.navigation.after.list.find("li").each(function(n,o){e(this).on("touchstart.VerticalCarousel click.VerticalCarousel",function(e){return i.changeSlide(n),t.clearTimeout(i.autoplayTimer),!1})}),Modernizr.touch||this.elements.navigation.main.list.find("a").each(function(t,n){e(this).on("mouseenter",function(){s(i.slides[t])}),e(this).on("mouseleave",function(){a(i.slides[t])}),e(this).on("click",function(t){return i._initCarouselEnd(e(this).attr("href")),t.preventDefault(),!1})}),o.on("touchstart.VerticalCarousel",".navigation-main a",function(t){return i._initCarouselEnd(e(this).attr("href")),t.preventDefault(),!1}),this.elements.link.on("click",function(t){return i._initCarouselEnd(e(this).attr("href")),t.preventDefault(),!1});this.elements.link.hover(function(){s(i.slides[i.slideIndex])},function(){i.is.ending||a(i.slides[i.slideIndex])});var s=function(e){t.clearTimeout(i.autoplayTimer),i.is.focused=!0,i.animation.zoom.pause(),e.elements.backgroundContainer.addClass("js-blur-slide"),i.elements.carousel.overlayBackground.addClass("js-blur-slide")},a=function(e){var t=!1;i.is.focused=!1,e.elements.backgroundContainer.removeClass("js-blur-slide"),i.elements.carousel.overlayBackground.removeClass("js-blur-slide"),i.elements.carousel.overlayBackground.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){t||(i.animation.zoom.resume(),t=!0)})};o.on("mousewheel.VerticalCarousel",function(e){return e.preventDefault(),e.stopPropagation(),i.is.animating||o.hasClass("js-nav-is-open")?void 0:(e.deltaY<0?l():r(),!1)}),o.on("keydown.VerticalCarousel",function(e){return o.hasClass("js-nav-is-open")||38!==e.which&&40!==e.which?void 0:(38===e.which?r():l(),e.preventDefault(),!1)}),n.on("hashchange",function(){var e=i._locationHashGetSlideIndex();e!==i.slideIndex&&i.changeSlide(e)}),Modernizr.touch&&(this.hammer=new Hammer(this.elements.carousel.container[0]),this.hammer.get("tap").set({enable:!1}),this.hammer.get("press").set({enable:!1}),this.hammer.get("doubletap").set({enable:!1}),this.hammer.get("swipe").set({direction:Hammer.DIRECTION_VERTICAL}),this.hammer.on("swipeup",function(e){return l(),!1}),this.hammer.on("swipedown",function(e){return r(),!1}));var r=function(){0!==i.slideIndex&&(t.clearTimeout(i.autoplayTimer),i.changeSlide(i.slideIndex-1))},l=function(){i.slideIndex!==i.slides.length-1&&(t.clearTimeout(i.autoplayTimer),i.changeSlide(i.slideIndex+1))};this.autoplayTimer=t.setInterval(function(){var e=i.slideIndex;i.slideIndex!==i.slides.length-1?e++:e=0,i.changeSlide(e)},1e3*this.options.autoplayDelay)},_unbindEvents:function(){var i=this,n=e("html");n.off(".VerticalCarousel"),null!==this.hammer&&this.hammer.destroy(),t.clearTimeout(i.autoplayTimer)},_resizeSlides:function(t,i){var n=this;e.each(this.slides,function(e,o){o.elements.backgroundContainer.height(i),n._repositionBackgroundImage(o,t,i)})},_resizeNavigation:function(){var e=this.elements.navigation,t=e.before.container.offset().top,i=e.main.container.offset().top,n=e.main.container.height();e.before.container.height(i-t),e.after.container.height(a.height-(i+n)),e.after.container.css("top",i+n)},_repositionCarousel:function(e){var e=e||-(a.height*this.slideIndex);TweenLite.set(this.elements.carousel.inner,{y:e})},_repositionBackgroundImage:function(e,t,i){var n={width:0,height:0,marginTop:0,marginLeft:0},o=t,s=Math.round(o*e.image.dimensions.ratio);s>=i?n.marginTop=-Math.round((s-i)/2):(s=i,o=Math.round(s/e.image.dimensions.ratio),n.marginLeft=-Math.round((o-t)/2)),n.width=o,n.height=s,e.elements.backgroundImage.css(n)},_animateImageBackground:function(){var e=this,t=this.options,i=this.slides[this.slideIndex].elements.backgroundImage;this.animation.hasOwnProperty("zoom")&&(this.animation.zoom.restart(),this.animation.zoom.kill()),this.is.zooming=!0,this.animation.zoom=TweenLite.to(i,t.zoomSpeed,{scale:t.zoomScale,x:t.zoomX,y:t.zoomY,rotation:t.zoomRotation,ease:t.zoomEase,paused:!0,onComplete:function(){e.is.zooming=!1}}),e.is.focused||this.animation.zoom.play()},_animateCarouselNavigation:function(e){var t={before:this.slideIndex*this.navigationHeight.subtitle,main:this.slideIndex*this.navigationHeight.main,after:this.slideIndex*this.navigationHeight.subtitle+this.navigationHeight.subtitle};this.animation.before=TweenLite.to(this.elements.navigation.before.list,this.options.animationSpeed,{marginTop:-t.before,delay:this.options.animationDelay,ease:this.options.animationEase}),this.animation.main=TweenLite.to(this.elements.navigation.main.list,this.options.animationSpeed,{marginTop:-t.main,delay:this.options.animationDelay,ease:this.options.animationEase}),this.animation.main=TweenLite.to(this.elements.navigation.after.list,this.options.animationSpeed,{marginTop:-t.after,delay:this.options.animationDelay,ease:this.options.animationEase,onComplete:function(){"function"==typeof e&&e()}})},_animateCarouselSlides:function(){var e=this,t=this.options;this.is.animating&&this.animation.slides.pause(),this.is.animating=!0,this.animation.slides=TweenLite.to(this.elements.carousel.inner,t.animationSpeed,{y:-(this.slideIndex*a.height),delay:t.animationDelay,ease:t.animationEase,onComplete:function(){e.is.animating=!1,e._animateImageBackground()}})},_locationHashSetSlideIndex:function(){var e=t.location.hash.substring(1);this.locationHash[e]!==i&&(this.slideIndex=this.locationHash[e])},_locationHashGetSlideIndex:function(){var e=t.location.hash.substring(1);return this.locationHash[e]!==i?this.locationHash[e]:this.options.slideIndex},_locationHashUpdate:function(){},changeMode:function(){var t=a.width<=this.options.smallModeWidth?this.modes.small:this.modes.main;if(this.mode!==t){if(this.options.debug&&console.log("Switching to mode: "+t),t===this.modes.main)n.scrollTop(0),this.elements.wrap.addClass("carousel-overflow-hidden").removeClass("carousel-small").addClass("carousel-main"),this._bindEvents();else if(t===this.modes.small){for(var i in this.animation)this.animation[i].kill();e.each(this.slides,function(e,t){t.elements.backgroundContainer.removeAttr("style"),t.elements.backgroundImage.removeAttr("style")}),this.elements.carousel.inner.removeAttr("style"),this.elements.wrap.css("height","").removeClass("carousel-overflow-hidden").removeClass("carousel-main").addClass("carousel-small"),this._unbindEvents()}this.mode=t}},changeSlide:function(e){return this.mode!==this.modes.main||this.slideIndex===e||this.is.focused?!1:(this.options.debug&&console.log("Changing slide from "+this.slideIndex+" to slide "+e),this.slideIndex=e,this.elements.link.attr("href",this.slides[e].meta.href),this._loadImages(),this.is.zooming&&this.animation.zoom.pause(),this._locationHashUpdate(),this._animateCarouselSlides(),void this._animateCarouselNavigation())},resize:function(){this.changeMode(),this._loadImages();var e=a.width,t=a.height;this.mode===this.modes.main?(this.is.zooming&&this.animation.zoom.pause(),this.is.animating&&(this.animation.slides.kill(),this.is.animating=!1),this.elements.wrap.height(a.height),this.elements.carousel.overlay.height(a.height),this._resizeNavigation(),this._resizeSlides(e,t),this._repositionCarousel(),this._animateImageBackground()):this.mode===this.modes.small&&this._resizeSlides(a.width,this.options.smallModeImageHeight)},resume:function(){this.mode=null,this.changeMode(),this.resize(),this._initCarouselResume()},openOverlay:function(){this.mode!==this.modes.small&&(this.is.zooming&&this.animation.zoom.pause(),this._unbindEvents())},closeOverlay:function(){this.mode!==this.modes.small&&(this.is.zooming&&this.animation.zoom.resume(),this._bindEvents())}},e.fn.verticalCarousel=function(e){return this.each(function(t,i){s.push(new d(o,i,e))})},t.getActiveCarousel=function(){return s[0]}}(jQuery,window,void 0),function(e){"use strict"}(jQuery);var SerifLabs=SerifLabs||{};SerifLabs.fixedScrollActive=!1,function(e,t,i,n){"use strict";function o(e,t,i){t||(t=250);var n,o;return function(){var s=i||this,a=+new Date,r=arguments;n&&n+t>a?(clearTimeout(o),o=setTimeout(function(){n=a,e.apply(s,r)},t)):(n=a,e.apply(s,r))}}var s=e(t),a=[],r={};s.on("resize",function(){l()}),s.on("scroll",o(function(){u()},16));var l=function(){c(),d()},c=function(){r.width=Math.max(t.innerWidth||s.width()),r.height=Math.max(t.innerHeight||s.height()),r.scrollTop=s.scrollTop()},d=function(){e.each(a,function(e,i){t.requestAnimationFrame(function(){i.resize()})})},u=function(){r.scrollTop=s.scrollTop(),e.each(a,function(e,i){t.requestAnimationFrame(function(){i.update()})})},h=function(t,i){var t=e(t);this.meta={description:t.data("fixed-scroll")},this.elements={container:t,copy:t.find("[data-fixed-scroll-copy]"),imageContainer:t.find("[data-fixed-scroll-images]"),images:t.find("[data-fixed-scroll-images] [data-slide-image]")},this.options=e.extend({debug:!1,smallModeWidth:1200,maxWidth:1e5,zIndexOffset:100,lazyLoadOffset:800,offsetScrollTop:0,fadeInOffset:200,fadeInSpeed:2},i),this.mode=null,this.cssCache={},this.animating=!1,this.animation=null,this.offsetTop=0,this.slides=[],this.state=null,this.lazyLoaded=!1,this._init()};h.prototype={states:{before:"slide-is-before",active:"slide-is-active",after:"slide-is-after"},modes:{main:"scroll-main",small:"scroll-small"},_init:function(){this._buildSlides(),this.resize()},_buildSlides:function(){var t=this,i=this.elements.images.length;this.elements.images.each(function(n,o){var o=e(o);o.wrap(e("<div />",{"class":"fixed-scroll-image fixed-scroll-image-outer"}));var s=o.parent(),a={meta:{src:o.data("slide-image-src"),index:n,zIndex:i-n+t.options.zIndexOffset},elements:{inner:e('<img alt="'+o.data("slide-image-alt")+'" class="fixed-scroll-background fixed-scroll-image fixed-scroll-image-inner">'),outer:s,placeholder:o},image:{dimensions:{ratio:o.data("slide-image-ratio"),height:0}}};t.slides.push(a)})},_resizeSlides:function(t,i){var n=this;e.each(this.slides,function(e,o){o.elements.outer.height(i),n._repositionBackgroundImage(o,t,i)})},_repositionBackgroundImage:function(e,t,i){var n={width:0,height:0,marginTop:0,marginLeft:0},o=t,s=Math.round(o*e.image.dimensions.ratio);o>this.options.maxWidth?(o=this.options.maxWidth,s=o*e.image.dimensions.ratio,n.marginLeft=Math.round((t-o)/2)):s>=i?n.marginTop=-Math.round((s-i)/2):(s=i,o=Math.round(s/e.image.dimensions.ratio),n.marginLeft=-Math.round((o-t)/2)),n.width=o,n.height=s,e.elements.inner.css(n)},_animateSlideOpacity:function(){var e=this.slides.length-1,t=1,i=this,n=function(){var o=i.slides[t];i.animation=TweenLite.to(o.elements.inner,i.options.fadeInSpeed,{opacity:1,onComplete:function(){e>t&&(t++,n())}})};n()},_getHeight:function(){return r.width>this.options.maxWidth?this.slides[0].inner.height():r.height},_lockSection:function(e){this.state!==e&&(this.elements.container.removeClass(this.state).addClass(e),this.state=e,this.options.debug&&console.log('Setting section: "'+this.meta.description+'" to '+e),SerifLabs.fixedScrollActive=e===this.states.active?!0:!1)},_lazyLoadImages:function(){e.each(this.slides,function(e,t){t.elements.inner.attr("src",t.meta.src),t.elements.placeholder.replaceWith(t.elements.inner)})},_clamp:function(e,t,i){return t>e?t:e>i?i:Math.round(e)},_animateSlide:function(e,t){e.elements.inner.css({transform:"translateY("+t+"px)"}),e.elements.outer.css({transform:"translateY("+-t+"px)"})},_updateSlideTranslateY:function(t){var i=this,n=this.slides.length-1,o=r.scrollTop-this.offsetTop;e.each(this.slides,function(e,t){var s=s||i._clamp(o-e*r.height,0,r.height);n>e&&i.cssCache[e]!==s&&(i._animateSlide(t,s),i.cssCache[e]=s)})},changeMode:function(){var t=r.width<=this.options.smallModeWidth||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?this.modes.small:this.modes.main;if(t!==this.mode)if(this.mode=t,e.each(this.slides,function(e,t){t.elements.inner.removeAttr("style"),t.elements.outer.removeAttr("style")}),this.options.debug&&console.log("Switching to mode: "+t),t===this.modes.small){this.animating=!1,null!==this.animation&&this.animation.kill(),this.elements.container.removeClass(this.modes.main).addClass(this.modes.small),this.elements.container.css("height",""),this.elements.copy.css("height","");this.slides.length-1;e.each(this.slides,function(e,t){0!==e&&t.elements.inner.css("opacity",0)})}else t===this.modes.main&&(this.cssCache={},this.elements.container.removeClass(this.modes.small).addClass(this.modes.main),e.each(this.slides,function(e,t){t.elements.outer.css("z-index",t.meta.zIndex)}))},resize:function(){this.changeMode();var e=r.width,t=this._getHeight();this.mode===this.modes.small?(t=this.elements.imageContainer.height(),e=this.elements.imageContainer.width()):this.mode===this.modes.main&&(this.elements.container.height(t*this.slides.length),this.elements.copy.height(t)),this._resizeSlides(e,t),this.update()},update:function(){if(this.offsetTop=this.elements.container.offset().top-this.options.offsetScrollTop,!this.lazyLoaded&&r.scrollTop+r.height>=this.offsetTop-this.options.lazyLoadOffset&&(this._lazyLoadImages(),this.lazyLoaded=!0),this.mode===this.modes.main){var e=this._getHeight()*(this.slides.length-1),t=e+this.offsetTop;r.scrollTop<this.offsetTop&&this.state!==this.states.before?(this._lockSection(this.states.before),this._updateSlideTranslateY(0)):r.scrollTop>t&&this.state!==this.AFTER?(this._lockSection(this.states.after),this._updateSlideTranslateY(r.height)):r.scrollTop>=this.offsetTop&&r.scrollTop<t&&(this._lockSection(this.states.active),this._updateSlideTranslateY())}else this.mode!==this.modes.small||this.animating||r.scrollTop>=this.elements.imageContainer.offset().top-this.options.fadeInOffset&&(this.animating=!0,this._animateSlideOpacity())}};var p=function(){e("[data-fixed-scroll]").each(function(e,t){a.push(new h(t))})};c(),s.on("load",function(){p()})}(jQuery,window,document,void 0);var SerifLabs=SerifLabs||{};$("[data-fancybox-media]").fancybox({width:1365,height:768,aspectRatio:!0,scrolling:"no",padding:0,helpers:{media:{vimeo:{params:{autoplay:1}}},overlay:{closeEffect:"none",closeSpeed:"fast",closeMethod:"zoomOut",css:{background:"rgba(0, 0, 0, .95)"}}},vimeo:{autoplay:1}});var thisHash=window.location.hash;$(document).ready(function(){thisHash&&$(thisHash).trigger("click")}),$("[data-scroll-to]").on("click",function(){var e=$("[id="+$(this).attr("href").slice(1)+"]");return $("html,body").animate({scrollTop:e.offset().top},800),!1}),$(function(){$("[data-open-blank]").click(function(){return window.open(this.href),!1})}),Modernizr.svg||$("[data-svg-png]").each(function(){$(this).attr("src",$(this).attr("src").replace(".svg",".png"))});var stickyFooter=function(){$(".c-sticky-footer").css("margin-bottom",$(".c-page-footer").height())},didResize=!1;stickyFooter(),$(window).resize(function(){didResize=!0}),setInterval(function(){didResize&&(didResize=!1,stickyFooter())},250),$(function(){var e=$("[data-preview-video]"),t=e.data("preview-video")+"/?api=1",i=$("<iframe />",{src:t,allowFullScreen:""}),n=e.find("[data-preview-click]"),o=e.find("[data-preview-click-background]"),s=$f(i[0]);e.removeClass("u-hide"),s.addEvent("ready",function(){s.api("play")}),n.on("click",function(){return n.fadeOut(200,function(){n.remove()}),e.prepend(i),i.load(function(){o.animate({opacity:0},400,function(){o.unbind().remove()})}),!1})}),$(function(){$(".js-press-signup-button").click(function(e){$(".js-press-signup-form").addClass("js-press-signup-form--visible  animated  fade-in-down"),$(".hero-content").addClass("js-press-hero--invisible"),e.preventDefault()})}),$(function(){$(window).keypress(function(e){e.altKey&&108==e.charCode&&(window.location="/en-gb/locale")})}),$(function(){$("[data-windows-beta-signup]").on("click",function(e){ga("send",{hitType:"event",eventCategory:"Signup Forms",eventAction:"Submit",eventLabel:"Windows – Affinity Designer Beta"})})}),$(function(){$("[data-windows-photo-beta-signup]").on("click",function(e){ga("send",{hitType:"event",eventCategory:"Signup Forms",eventAction:"Submit",eventLabel:"Windows – Affinity Photo Beta"})})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var a=t||window.event,r=l.call(arguments,1),c=0,u=0,h=0,p=0,f=0,m=0;if(t=e.event.fix(a),t.type="mousewheel","detail"in a&&(h=-1*a.detail),"wheelDelta"in a&&(h=a.wheelDelta),"wheelDeltaY"in a&&(h=a.wheelDeltaY),"wheelDeltaX"in a&&(u=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(u=-1*h,h=0),c=0===h?u:h,"deltaY"in a&&(h=-1*a.deltaY,c=h),"deltaX"in a&&(u=a.deltaX,0===h&&(c=-1*u)),0!==h||0!==u){if(1===a.deltaMode){var g=e.data(this,"mousewheel-line-height");c*=g,h*=g,u*=g}else if(2===a.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,h*=v,u*=v}if(p=Math.max(Math.abs(h),Math.abs(u)),(!s||s>p)&&(s=p,n(a,p)&&(s/=40)),n(a,p)&&(c/=40,u/=40,h/=40),c=Math[c>=1?"floor":"ceil"](c/s),u=Math[u>=1?"floor":"ceil"](u/s),h=Math[h>=1?"floor":"ceil"](h/s),d.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=t.clientX-y.left,m=t.clientY-y.top}return t.deltaX=u,t.deltaY=h,t.deltaFactor=s,t.offsetX=f,t.offsetY=m,t.deltaMode=0,r.unshift(t,c,u,h),o&&clearTimeout(o),o=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,r)}}function i(){s=null}function n(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var o,s,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=a.length;c;)e.event.fixHooks[a[--c]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=r.length;i;)this.addEventListener(r[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=r.length;i;)this.removeEventListener(r[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),n=i["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e,t,i){"use strict";var n=function(n){this.availableMedia=[],this.currentMedia=null,this.images=[],this.settings=e.extend({selector:"[data-picture]",allowedExtensions:["jpg","png","gif","bmp"],attachResize:t,attachScroll:i,attributes:{pictureBase:"picture",pictureAlt:"picture-alt",pictureClass:"picture-class",
pictureMedia:"picture-media"},lazyLoad:!0,lazyLoadMargin:800,media:{palm:481,lap:681,portable:881,desk:1e3},mediaPrefix:"--",resizeEndDelay:200,smoothResize:150,smoothScroll:200},n||{}),this.__init()};n.prototype={__init:function(){this.__indexMedia(),this.__setEvents(),this.__update()},__indexMedia:function(){var e=[];for(var t in this.settings.media)e.push({name:t,width:this.settings.media[t]});e.sort(function(e,t){return e.width<t.width?-1:e.width>t.width?1:0}),this.availableMedia=e},__setEvents:function(){var i=this,n=null,o=null,s=null,a=function(){null!==o&&t.clearTimeout(o),o=t.setTimeout(function(){e(i.settings.attachResize).trigger("resizeEnd"),o=null},i.settings.resizeEndDelay)};e(this.settings.attachResize).on("resize",function(){a(),null===n&&(n=t.setTimeout(function(){i.__update(),n=null},i.settings.smoothResize))}),this.settings.lazyLoad&&e(this.settings.attachScroll).on("scroll",function(){null===s&&(s=t.setTimeout(function(){i.__convertDOMPictureElements(),s=null},i.settings.smoothScroll))})},__update:function(){this.__updateCurrentMedia(),this.__convertDOMPictureElements()},__updateCurrentMedia:function(){for(var t=this.availableMedia.length-1,i=e(this.settings.attachResize).width(),n=0;n<this.availableMedia.length;n++)if(i<this.availableMedia[n].width){t=n;break}(null===this.currentMedia||this.currentMedia.name!==this.availableMedia[t].name)&&(this.currentMedia=this.availableMedia[t],this.__updateImages())},__updateImages:function(){var t=this;e.each(this.images.reverse(),function(e){var i=t.__getMediaSrc(t.images[e].data("picture-base-src"),t.images[e].data("picture-extension"),t.images[e].data("picture-media")),n=new Image;n.src=i,n.onload=function(){t.images[e].attr("src",i)}})},__convertDOMPictureElements:function(){var n=this,o=this.settings.lazyLoad?e(t).scrollTop()+e(t).height()+this.settings.lazyLoadMargin:e(i).outerHeight();e(this.settings.selector).each(function(){e(this).offset().top<o&&e(this).replaceWith(n.__buildImageElement(e(this)))})},__buildImageElement:function(t){var i=t.data(this.settings.attributes.pictureBase),n=i.substring(0,i.lastIndexOf(".")),o=i.substring(i.lastIndexOf(".")+1),s=(t.data("picture-media")||"").replace(/ /g,""),a=this.__getMediaSrc(n,o,s),r=e('<img src="'+a+'" class="'+(t.data("picture-class")||"")+' picture picture-loading" alt="'+(t.data("picture-alt")||"")+'" data-picture-base-src="'+n+'"  data-picture-extension="'+o+'"  data-picture-media="'+s+'">');return r.one("load",function(){r.removeClass("picture-loading"),r.addClass("picture-loaded")}),this.images.push(r),r},__getMediaSrc:function(t,i,n){var o=this.settings.mediaPrefix,s=function(e,t,i){return e+o+i+"."+t};if(n){var a=n.split(","),r=this.currentMedia.name;if(-1===a.indexOf(this.currentMedia.name))for(var l=e(this.settings.attachResize).width(),c=0;c<this.availableMedia.length&&!(-1!==a.indexOf(this.availableMedia[c].name)&&(r=this.availableMedia[c].name,l<=this.availableMedia[c].width));c++);return s(t,i,r)}return s(t,i,this.currentMedia.name)}},t.SerifLabs=t.SerifLabs||{},t.SerifLabs.Picture=n}(jQuery,window,document),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var t=window.Slick||{};t=function(){function t(t,n){var o,s,a,r=this;if(r.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:e(t),appendDots:e(t),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="previous">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return'<button type="button" data-role="none">'+(t+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0},r.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1},e.extend(r,r.initials),r.activeBreakpoint=null,r.animType=null,r.animProp=null,r.breakpoints=[],r.breakpointSettings=[],r.cssTransitions=!1,r.hidden="hidden",r.paused=!1,r.positionProp=null,r.respondTo=null,r.rowCount=1,r.shouldClick=!0,r.$slider=e(t),r.$slidesCache=null,r.transformType=null,r.transitionType=null,r.visibilityChange="visibilitychange",r.windowWidth=0,r.windowTimer=null,o=e(t).data("slick")||{},r.options=e.extend({},r.defaults,o,n),r.currentSlide=r.options.initialSlide,r.originalSettings=r.options,s=r.options.responsive||null,s&&s.length>-1){r.respondTo=r.options.respondTo||"window";for(a in s)s.hasOwnProperty(a)&&(r.breakpoints.push(s[a].breakpoint),r.breakpointSettings[s[a].breakpoint]=s[a].settings);r.breakpoints.sort(function(e,t){return r.options.mobileFirst===!0?e-t:t-e})}"undefined"!=typeof document.mozHidden?(r.hidden="mozHidden",r.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(r.hidden="msHidden",r.visibilityChange="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(r.hidden="webkitHidden",r.visibilityChange="webkitvisibilitychange"),r.autoPlay=e.proxy(r.autoPlay,r),r.autoPlayClear=e.proxy(r.autoPlayClear,r),r.changeSlide=e.proxy(r.changeSlide,r),r.clickHandler=e.proxy(r.clickHandler,r),r.selectHandler=e.proxy(r.selectHandler,r),r.setPosition=e.proxy(r.setPosition,r),r.swipeHandler=e.proxy(r.swipeHandler,r),r.dragHandler=e.proxy(r.dragHandler,r),r.keyHandler=e.proxy(r.keyHandler,r),r.autoPlayIterator=e.proxy(r.autoPlayIterator,r),r.instanceUid=i++,r.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,r.init(),r.checkResponsive(!0)}var i=0;return t}(),t.prototype.addSlide=t.prototype.slickAdd=function(t,i,n){var o=this;if("boolean"==typeof i)n=i,i=null;else if(0>i||i>=o.slideCount)return!1;o.unload(),"number"==typeof i?0===i&&0===o.$slides.length?e(t).appendTo(o.$slideTrack):n?e(t).insertBefore(o.$slides.eq(i)):e(t).insertAfter(o.$slides.eq(i)):n===!0?e(t).prependTo(o.$slideTrack):e(t).appendTo(o.$slideTrack),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slides.each(function(t,i){e(i).attr("data-slick-index",t)}),o.$slidesCache=o.$slides,o.reinit()},t.prototype.animateHeight=function(){var e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:t},e.options.speed)}},t.prototype.animateSlide=function(t,i){var n={},o=this;o.animateHeight(),o.options.rtl===!0&&o.options.vertical===!1&&(t=-t),o.transformsEnabled===!1?o.options.vertical===!1?o.$slideTrack.animate({left:t},o.options.speed,o.options.easing,i):o.$slideTrack.animate({top:t},o.options.speed,o.options.easing,i):o.cssTransitions===!1?(o.options.rtl===!0&&(o.currentLeft=-o.currentLeft),e({animStart:o.currentLeft}).animate({animStart:t},{duration:o.options.speed,easing:o.options.easing,step:function(e){e=Math.ceil(e),o.options.vertical===!1?(n[o.animType]="translate("+e+"px, 0px)",o.$slideTrack.css(n)):(n[o.animType]="translate(0px,"+e+"px)",o.$slideTrack.css(n))},complete:function(){i&&i.call()}})):(o.applyTransition(),t=Math.ceil(t),o.options.vertical===!1?n[o.animType]="translate3d("+t+"px, 0px, 0px)":n[o.animType]="translate3d(0px,"+t+"px, 0px)",o.$slideTrack.css(n),i&&setTimeout(function(){o.disableTransition(),i.call()},o.options.speed))},t.prototype.asNavFor=function(t){var i=this,n=null!==i.options.asNavFor?e(i.options.asNavFor).slick("getSlick"):null;null!==n&&n.slideHandler(t,!0)},t.prototype.applyTransition=function(e){var t=this,i={};t.options.fade===!1?i[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:i[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.autoPlay=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer),e.slideCount>e.options.slidesToShow&&e.paused!==!0&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var e=this;e.options.infinite===!1?1===e.direction?(e.currentSlide+1===e.slideCount-1&&(e.direction=0),e.slideHandler(e.currentSlide+e.options.slidesToScroll)):(e.currentSlide-1===0&&(e.direction=1),e.slideHandler(e.currentSlide-e.options.slidesToScroll)):e.slideHandler(e.currentSlide+e.options.slidesToScroll)},t.prototype.buildArrows=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow=e(t.options.prevArrow),t.$nextArrow=e(t.options.nextArrow),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.appendTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),t.options.infinite!==!0&&t.$prevArrow.addClass("slick-disabled"))},t.prototype.buildDots=function(){var t,i,n=this;if(n.options.dots===!0&&n.slideCount>n.options.slidesToShow){for(i='<ul class="'+n.options.dotsClass+'">',t=0;t<=n.getDotCount();t+=1)i+="<li>"+n.options.customPaging.call(this,n,t)+"</li>";i+="</ul>",n.$dots=e(i).appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,i){e(i).attr("data-slick-index",t)}),t.$slidesCache=t.$slides,t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?e('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),(t.options.centerMode===!0||t.options.swipeToSlide===!0)&&(t.options.slidesToScroll=1),e("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.options.accessibility===!0&&t.$list.prop("tabIndex",0),t.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),t.options.draggable===!0&&t.$list.addClass("draggable")},t.prototype.buildRows=function(){var e,t,i,n,o,s,a,r=this;if(n=document.createDocumentFragment(),s=r.$slider.children(),r.options.rows>1){for(a=r.options.slidesPerRow*r.options.rows,o=Math.ceil(s.length/a),e=0;o>e;e++){var l=document.createElement("div");for(t=0;t<r.options.rows;t++){var c=document.createElement("div");for(i=0;i<r.options.slidesPerRow;i++){var d=e*a+(t*r.options.slidesPerRow+i);s.get(d)&&c.appendChild(s.get(d))}l.appendChild(c)}n.appendChild(l)}r.$slider.html(n),r.$slider.children().children().children().width(100/r.options.slidesPerRow+"%").css({display:"inline-block"})}},t.prototype.checkResponsive=function(t){var i,n,o,s=this,a=s.$slider.width(),r=window.innerWidth||e(window).width();if("window"===s.respondTo?o=r:"slider"===s.respondTo?o=a:"min"===s.respondTo&&(o=Math.min(r,a)),s.originalSettings.responsive&&s.originalSettings.responsive.length>-1&&null!==s.originalSettings.responsive){n=null;for(i in s.breakpoints)s.breakpoints.hasOwnProperty(i)&&(s.originalSettings.mobileFirst===!1?o<s.breakpoints[i]&&(n=s.breakpoints[i]):o>s.breakpoints[i]&&(n=s.breakpoints[i]));null!==n?null!==s.activeBreakpoint?n!==s.activeBreakpoint&&(s.activeBreakpoint=n,"unslick"===s.breakpointSettings[n]?s.unslick():(s.options=e.extend({},s.originalSettings,s.breakpointSettings[n]),t===!0&&(s.currentSlide=s.options.initialSlide),s.refresh())):(s.activeBreakpoint=n,"unslick"===s.breakpointSettings[n]?s.unslick():(s.options=e.extend({},s.originalSettings,s.breakpointSettings[n]),t===!0&&(s.currentSlide=s.options.initialSlide),s.refresh())):null!==s.activeBreakpoint&&(s.activeBreakpoint=null,s.options=s.originalSettings,t===!0&&(s.currentSlide=s.options.initialSlide),s.refresh())}},t.prototype.changeSlide=function(t,i){var n,o,s,a=this,r=e(t.target);switch(r.is("a")&&t.preventDefault(),s=a.slideCount%a.options.slidesToScroll!==0,n=s?0:(a.slideCount-a.currentSlide)%a.options.slidesToScroll,t.data.message){case"previous":o=0===n?a.options.slidesToScroll:a.options.slidesToShow-n,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide-o,!1,i);break;case"next":o=0===n?a.options.slidesToScroll:n,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide+o,!1,i);break;case"index":var l=0===t.data.index?0:t.data.index||e(t.target).parent().index()*a.options.slidesToScroll;a.slideHandler(a.checkNavigable(l),!1,i);break;default:return}},t.prototype.checkNavigable=function(e){var t,i,n=this;if(t=n.getNavigableIndexes(),i=0,e>t[t.length-1])e=t[t.length-1];else for(var o in t){if(e<t[o]){e=i;break}i=t[o]}return e},t.prototype.cleanUpEvents=function(){var t=this;t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&e("li",t.$dots).off("click.slick",t.changeSlide),t.options.dots===!0&&t.options.pauseOnDotsHover===!0&&t.options.autoplay===!0&&e("li",t.$dots).off("mouseenter.slick",t.setPaused.bind(t,!0)).off("mouseleave.slick",t.setPaused.bind(t,!1)),t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide)),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),t.options.autoplay===!0&&e(document).off(t.visibilityChange,t.visibility),t.$list.off("mouseenter.slick",t.setPaused.bind(t,!0)),t.$list.off("mouseleave.slick",t.setPaused.bind(t,!1)),t.options.accessibility===!0&&t.$list.off("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().off("click.slick",t.selectHandler),e(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),e(window).off("resize.slick.slick-"+t.instanceUid,t.resize),e("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),e(window).off("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).off("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.cleanUpRows=function(){var e,t=this;t.options.rows>1&&(e=t.$slides.children().children(),e.removeAttr("style"),t.$slider.html(e))},t.prototype.clickHandler=function(e){var t=this;t.shouldClick===!1&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},t.prototype.destroy=function(){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&"object"!=typeof t.options.prevArrow&&t.$prevArrow.remove(),t.$nextArrow&&"object"!=typeof t.options.nextArrow&&t.$nextArrow.remove(),t.$slides&&(t.$slides.removeClass("slick-slide slick-active slick-center slick-visible").attr("aria-hidden","true").removeAttr("data-slick-index").css({position:"",left:"",top:"",zIndex:"",opacity:"",width:""}),t.$slider.html(t.$slides)),t.cleanUpRows(),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized")},t.prototype.disableTransition=function(e){var t=this,i={};i[t.transitionType]="",t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.fadeSlide=function(e,t){var i=this;i.cssTransitions===!1?(i.$slides.eq(e).css({zIndex:1e3}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:1e3}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},t.prototype.filterSlides=t.prototype.slickFilter=function(e){var t=this;null!==e&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){var e=this;return e.currentSlide},t.prototype.getDotCount=function(){var e=this,t=0,i=0,n=0;if(e.options.infinite===!0)n=Math.ceil(e.slideCount/e.options.slidesToScroll);else if(e.options.centerMode===!0)n=e.slideCount;else for(;t<e.slideCount;)++n,t=i+e.options.slidesToShow,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return n-1},t.prototype.getLeft=function(e){var t,i,n,o=this,s=0;return o.slideOffset=0,i=o.$slides.first().outerHeight(),o.options.infinite===!0?(o.slideCount>o.options.slidesToShow&&(o.slideOffset=o.slideWidth*o.options.slidesToShow*-1,s=i*o.options.slidesToShow*-1),o.slideCount%o.options.slidesToScroll!==0&&e+o.options.slidesToScroll>o.slideCount&&o.slideCount>o.options.slidesToShow&&(e>o.slideCount?(o.slideOffset=(o.options.slidesToShow-(e-o.slideCount))*o.slideWidth*-1,s=(o.options.slidesToShow-(e-o.slideCount))*i*-1):(o.slideOffset=o.slideCount%o.options.slidesToScroll*o.slideWidth*-1,s=o.slideCount%o.options.slidesToScroll*i*-1))):e+o.options.slidesToShow>o.slideCount&&(o.slideOffset=(e+o.options.slidesToShow-o.slideCount)*o.slideWidth,s=(e+o.options.slidesToShow-o.slideCount)*i),o.slideCount<=o.options.slidesToShow&&(o.slideOffset=0,s=0),o.options.centerMode===!0&&o.options.infinite===!0?o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)-o.slideWidth:o.options.centerMode===!0&&(o.slideOffset=0,o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)),t=o.options.vertical===!1?e*o.slideWidth*-1+o.slideOffset:e*i*-1+s,o.options.variableWidth===!0&&(n=o.slideCount<=o.options.slidesToShow||o.options.infinite===!1?o.$slideTrack.children(".slick-slide").eq(e):o.$slideTrack.children(".slick-slide").eq(e+o.options.slidesToShow),t=n[0]?-1*n[0].offsetLeft:0,o.options.centerMode===!0&&(n=o.options.infinite===!1?o.$slideTrack.children(".slick-slide").eq(e):o.$slideTrack.children(".slick-slide").eq(e+o.options.slidesToShow+1),t=n[0]?-1*n[0].offsetLeft:0,t+=(o.$list.width()-n.outerWidth())/2)),t},t.prototype.getOption=t.prototype.slickGetOption=function(e){var t=this;return t.options[e]},t.prototype.getNavigableIndexes=function(){var e,t=this,i=0,n=0,o=[];for(t.options.infinite===!1?(e=t.slideCount-t.options.slidesToShow+1,t.options.centerMode===!0&&(e=t.slideCount)):(i=-1*t.options.slidesToScroll,n=-1*t.options.slidesToScroll,e=2*t.slideCount);e>i;)o.push(i),i=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return o},t.prototype.getSlick=function(){return this},t.prototype.getSlideCount=function(){var t,i,n,o=this;return n=o.options.centerMode===!0?o.slideWidth*Math.floor(o.options.slidesToShow/2):0,o.options.swipeToSlide===!0?(o.$slideTrack.find(".slick-slide").each(function(t,s){return s.offsetLeft-n+e(s).outerWidth()/2>-1*o.swipeLeft?(i=s,!1):void 0}),t=Math.abs(e(i).attr("data-slick-index")-o.currentSlide)||1):o.options.slidesToScroll},t.prototype.goTo=t.prototype.slickGoTo=function(e,t){var i=this;i.changeSlide({data:{message:"index",index:parseInt(e)}},t)},t.prototype.init=function(){var t=this;e(t.$slider).hasClass("slick-initialized")||(e(t.$slider).addClass("slick-initialized"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots()),t.$slider.trigger("init",[t])},t.prototype.initArrowEvents=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.on("click.slick",{message:"next"},e.changeSlide))},t.prototype.initDotEvents=function(){var t=this;t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),t.options.dots===!0&&t.options.pauseOnDotsHover===!0&&t.options.autoplay===!0&&e("li",t.$dots).on("mouseenter.slick",t.setPaused.bind(t,!0)).on("mouseleave.slick",t.setPaused.bind(t,!1))},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),t.options.autoplay===!0&&e(document).on(t.visibilityChange,t.visibility.bind(t)),t.$list.on("mouseenter.slick",t.setPaused.bind(t,!0)),t.$list.on("mouseleave.slick",t.setPaused.bind(t,!1)),t.options.accessibility===!0&&t.$list.on("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange.bind(t)),e(window).on("resize.slick.slick-"+t.instanceUid,t.resize.bind(t)),e("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.initUI=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.show(),e.options.autoplay===!0&&e.autoPlay()},t.prototype.keyHandler=function(e){var t=this;37===e.keyCode&&t.options.accessibility===!0?t.changeSlide({data:{message:"previous"}}):39===e.keyCode&&t.options.accessibility===!0&&t.changeSlide({data:{message:"next"}})},t.prototype.lazyLoad=function(){function t(t){e("img[data-lazy]",t).each(function(){var t=e(this),i=e(this).attr("data-lazy"),n=document.createElement("img");n.onload=function(){t.animate({opacity:1},200)},n.src=i,t.css({opacity:0}).attr("src",i).removeAttr("data-lazy").removeClass("slick-loading")})}var i,n,o,s,a=this;a.options.centerMode===!0?a.options.infinite===!0?(o=a.currentSlide+(a.options.slidesToShow/2+1),s=o+a.options.slidesToShow+2):(o=Math.max(0,a.currentSlide-(a.options.slidesToShow/2+1)),s=2+(a.options.slidesToShow/2+1)+a.currentSlide):(o=a.options.infinite?a.options.slidesToShow+a.currentSlide:a.currentSlide,s=o+a.options.slidesToShow,a.options.fade===!0&&(o>0&&o--,s<=a.slideCount&&s++)),i=a.$slider.find(".slick-slide").slice(o,s),t(i),a.slideCount<=a.options.slidesToShow?(n=a.$slider.find(".slick-slide"),t(n)):a.currentSlide>=a.slideCount-a.options.slidesToShow?(n=a.$slider.find(".slick-cloned").slice(0,a.options.slidesToShow),t(n)):0===a.currentSlide&&(n=a.$slider.find(".slick-cloned").slice(-1*a.options.slidesToShow),t(n))},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},t.prototype.next=t.prototype.slickNext=function(){var e=this;e.changeSlide({data:{message:"next"}})},t.prototype.orientationChange=function(){var e=this;e.checkResponsive(),e.setPosition()},t.prototype.pause=t.prototype.slickPause=function(){var e=this;e.autoPlayClear(),e.paused=!0},t.prototype.play=t.prototype.slickPlay=function(){var e=this;e.paused=!1,e.autoPlay()},t.prototype.postSlide=function(e){var t=this;t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.setPosition(),t.swipeLeft=null,t.options.autoplay===!0&&t.paused===!1&&t.autoPlay()},t.prototype.prev=t.prototype.slickPrev=function(){var e=this;e.changeSlide({data:{message:"previous"}})},t.prototype.preventDefault=function(e){e.preventDefault()},t.prototype.progressiveLazyLoad=function(){var t,i,n=this;t=e("img[data-lazy]",n.$slider).length,t>0&&(i=e("img[data-lazy]",n.$slider).first(),i.attr("src",i.attr("data-lazy")).removeClass("slick-loading").load(function(){i.removeAttr("data-lazy"),n.progressiveLazyLoad(),n.options.adaptiveHeight===!0&&n.setPosition()}).error(function(){i.removeAttr("data-lazy"),n.progressiveLazyLoad()}))},t.prototype.refresh=function(){var t=this,i=t.currentSlide;t.destroy(),e.extend(t,t.initials),t.init(),t.changeSlide({data:{message:"index",index:i}},!1)},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses(0),t.setPosition(),t.$slider.trigger("reInit",[t])},t.prototype.resize=function(){var t=this;e(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.setPosition()},50))},t.prototype.removeSlide=t.prototype.slickRemove=function(e,t,i){var n=this;return"boolean"==typeof e?(t=e,e=t===!0?0:n.slideCount-1):e=t===!0?--e:e,n.slideCount<1||0>e||e>n.slideCount-1?!1:(n.unload(),i===!0?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(e).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,void n.reinit())},t.prototype.setCSS=function(e){var t,i,n=this,o={};n.options.rtl===!0&&(e=-e),t="left"==n.positionProp?Math.ceil(e)+"px":"0px",i="top"==n.positionProp?Math.ceil(e)+"px":"0px",o[n.positionProp]=e,n.transformsEnabled===!1?n.$slideTrack.css(o):(o={},n.cssTransitions===!1?(o[n.animType]="translate("+t+", "+i+")",n.$slideTrack.css(o)):(o[n.animType]="translate3d("+t+", "+i+", 0px)",n.$slideTrack.css(o)))},t.prototype.setDimensions=function(){var e=this;e.options.vertical===!1?e.options.centerMode===!0&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),e.options.centerMode===!0&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),e.options.vertical===!1&&e.options.variableWidth===!1?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):e.options.variableWidth===!0?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();e.options.variableWidth===!1&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},t.prototype.setFade=function(){var t,i=this;i.$slides.each(function(n,o){t=i.slideWidth*n*-1,i.options.rtl===!0?e(o).css({position:"relative",right:t,top:0,zIndex:800,opacity:0}):e(o).css({position:"relative",left:t,top:0,zIndex:800,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:900,opacity:1})},t.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},t.prototype.setOption=t.prototype.slickSetOption=function(e,t,i){var n=this;n.options[e]=t,i===!0&&(n.unload(),n.reinit())},t.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),e.options.fade===!1?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},t.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=e.options.vertical===!0?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),(void 0!==t.WebkitTransition||void 0!==t.MozTransition||void 0!==t.msTransition)&&e.options.useCSS===!0&&(e.cssTransitions=!0),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&e.animType!==!1&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=null!==e.animType&&e.animType!==!1},t.prototype.setSlideClasses=function(e){var t,i,n,o,s=this;s.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden","true").removeClass("slick-center"),i=s.$slider.find(".slick-slide"),s.options.centerMode===!0?(t=Math.floor(s.options.slidesToShow/2),s.options.infinite===!0&&(e>=t&&e<=s.slideCount-1-t?s.$slides.slice(e-t,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(n=s.options.slidesToShow+e,i.slice(n-t+1,n+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?i.eq(i.length-1-s.options.slidesToShow).addClass("slick-center"):e===s.slideCount-1&&i.eq(s.options.slidesToShow).addClass("slick-center")),s.$slides.eq(e).addClass("slick-center")):e>=0&&e<=s.slideCount-s.options.slidesToShow?s.$slides.slice(e,e+s.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=s.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(o=s.slideCount%s.options.slidesToShow,n=s.options.infinite===!0?s.options.slidesToShow+e:e,s.options.slidesToShow==s.options.slidesToScroll&&s.slideCount-e<s.options.slidesToShow?i.slice(n-(s.options.slidesToShow-o),n+o).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+s.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===s.options.lazyLoad&&s.lazyLoad()},t.prototype.setupInfinite=function(){var t,i,n,o=this;if(o.options.fade===!0&&(o.options.centerMode=!1),o.options.infinite===!0&&o.options.fade===!1&&(i=null,o.slideCount>o.options.slidesToShow)){for(n=o.options.centerMode===!0?o.options.slidesToShow+1:o.options.slidesToShow,t=o.slideCount;t>o.slideCount-n;t-=1)i=t-1,e(o.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-o.slideCount).prependTo(o.$slideTrack).addClass("slick-cloned");for(t=0;n>t;t+=1)i=t,e(o.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+o.slideCount).appendTo(o.$slideTrack).addClass("slick-cloned");o.$slideTrack.find(".slick-cloned").find("[id]").each(function(){e(this).attr("id","")})}},t.prototype.setPaused=function(e){var t=this;t.options.autoplay===!0&&t.options.pauseOnHover===!0&&(t.paused=e,t.autoPlayClear())},t.prototype.selectHandler=function(t){var i=this,n=e(t.target).is(".slick-slide")?e(t.target):e(t.target).parents(".slick-slide"),o=parseInt(n.attr("data-slick-index"));return o||(o=0),i.slideCount<=i.options.slidesToShow?(i.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden","true"),i.$slides.eq(o).addClass("slick-active").attr("aria-hidden","false"),
i.options.centerMode===!0&&(i.$slider.find(".slick-slide").removeClass("slick-center"),i.$slides.eq(o).addClass("slick-center")),void i.asNavFor(o)):void i.slideHandler(o)},t.prototype.slideHandler=function(e,t,i){var n,o,s,a,r=null,l=this;return t=t||!1,l.animating===!0&&l.options.waitForAnimate===!0||l.options.fade===!0&&l.currentSlide===e||l.slideCount<=l.options.slidesToShow?void 0:(t===!1&&l.asNavFor(e),n=e,r=l.getLeft(n),a=l.getLeft(l.currentSlide),l.currentLeft=null===l.swipeLeft?a:l.swipeLeft,l.options.infinite===!1&&l.options.centerMode===!1&&(0>e||e>l.getDotCount()*l.options.slidesToScroll)?void(l.options.fade===!1&&(n=l.currentSlide,i!==!0?l.animateSlide(a,function(){l.postSlide(n)}):l.postSlide(n))):l.options.infinite===!1&&l.options.centerMode===!0&&(0>e||e>l.slideCount-l.options.slidesToScroll)?void(l.options.fade===!1&&(n=l.currentSlide,i!==!0?l.animateSlide(a,function(){l.postSlide(n)}):l.postSlide(n))):(l.options.autoplay===!0&&clearInterval(l.autoPlayTimer),o=0>n?l.slideCount%l.options.slidesToScroll!==0?l.slideCount-l.slideCount%l.options.slidesToScroll:l.slideCount+n:n>=l.slideCount?l.slideCount%l.options.slidesToScroll!==0?0:n-l.slideCount:n,l.animating=!0,l.$slider.trigger("beforeChange",[l,l.currentSlide,o]),s=l.currentSlide,l.currentSlide=o,l.setSlideClasses(l.currentSlide),l.updateDots(),l.updateArrows(),l.options.fade===!0?(i!==!0?l.fadeSlide(o,function(){l.postSlide(o)}):l.postSlide(o),void l.animateHeight()):void(i!==!0?l.animateSlide(r,function(){l.postSlide(o)}):l.postSlide(o))))},t.prototype.startLoad=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var e,t,i,n,o=this;return e=o.touchObject.startX-o.touchObject.curX,t=o.touchObject.startY-o.touchObject.curY,i=Math.atan2(t,e),n=Math.round(180*i/Math.PI),0>n&&(n=360-Math.abs(n)),45>=n&&n>=0?o.options.rtl===!1?"left":"right":360>=n&&n>=315?o.options.rtl===!1?"left":"right":n>=135&&225>=n?o.options.rtl===!1?"right":"left":o.options.verticalSwiping===!0?n>=35&&135>=n?"left":"right":"vertical"},t.prototype.swipeEnd=function(e){var t,i=this;if(i.dragging=!1,i.shouldClick=i.touchObject.swipeLength>10?!1:!0,void 0===i.touchObject.curX)return!1;if(i.touchObject.edgeHit===!0&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe)switch(i.swipeDirection()){case"left":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.slideHandler(t),i.currentDirection=0,i.touchObject={},i.$slider.trigger("swipe",[i,"left"]);break;case"right":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.slideHandler(t),i.currentDirection=1,i.touchObject={},i.$slider.trigger("swipe",[i,"right"])}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},t.prototype.swipeHandler=function(e){var t=this;if(!(t.options.swipe===!1||"ontouchend"in document&&t.options.swipe===!1||t.options.draggable===!1&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,t.options.verticalSwiping===!0&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t,i,n,o,s,a=this;return s=void 0!==e.originalEvent?e.originalEvent.touches:null,!a.dragging||s&&1!==s.length?!1:(t=a.getLeft(a.currentSlide),a.touchObject.curX=void 0!==s?s[0].pageX:e.clientX,a.touchObject.curY=void 0!==s?s[0].pageY:e.clientY,a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curX-a.touchObject.startX,2))),a.options.verticalSwiping===!0&&(a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curY-a.touchObject.startY,2)))),i=a.swipeDirection(),"vertical"!==i?(void 0!==e.originalEvent&&a.touchObject.swipeLength>4&&e.preventDefault(),o=(a.options.rtl===!1?1:-1)*(a.touchObject.curX>a.touchObject.startX?1:-1),a.options.verticalSwiping===!0&&(o=a.touchObject.curY>a.touchObject.startY?1:-1),n=a.touchObject.swipeLength,a.touchObject.edgeHit=!1,a.options.infinite===!1&&(0===a.currentSlide&&"right"===i||a.currentSlide>=a.getDotCount()&&"left"===i)&&(n=a.touchObject.swipeLength*a.options.edgeFriction,a.touchObject.edgeHit=!0),a.options.vertical===!1?a.swipeLeft=t+n*o:a.swipeLeft=t+n*(a.$list.height()/a.listWidth)*o,a.options.verticalSwiping===!0&&(a.swipeLeft=t+n*o),a.options.fade===!0||a.options.touchMove===!1?!1:a.animating===!0?(a.swipeLeft=null,!1):void a.setCSS(a.swipeLeft)):void 0)},t.prototype.swipeStart=function(e){var t,i=this;return 1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?(i.touchObject={},!1):(void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,void(i.dragging=!0))},t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&"object"!=typeof t.options.prevArrow&&t.$prevArrow.remove(),t.$nextArrow&&"object"!=typeof t.options.nextArrow&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible").attr("aria-hidden","true").css("width","")},t.prototype.unslick=function(){var e=this;e.destroy()},t.prototype.updateArrows=function(){var e,t=this;e=Math.floor(t.options.slidesToShow/2),t.options.arrows===!0&&t.options.infinite!==!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.removeClass("slick-disabled"),t.$nextArrow.removeClass("slick-disabled"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled"),t.$nextArrow.removeClass("slick-disabled")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&t.options.centerMode===!1?(t.$nextArrow.addClass("slick-disabled"),t.$prevArrow.removeClass("slick-disabled")):t.currentSlide>=t.slideCount-1&&t.options.centerMode===!0&&(t.$nextArrow.addClass("slick-disabled"),t.$prevArrow.removeClass("slick-disabled")))},t.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},t.prototype.visibility=function(){var e=this;document[e.hidden]?(e.paused=!0,e.autoPlayClear()):(e.paused=!1,e.autoPlay())},e.fn.slick=function(){var e,i=this,n=arguments[0],o=Array.prototype.slice.call(arguments,1),s=i.length,a=0;for(a;s>a;a++)if("object"==typeof n||"undefined"==typeof n?i[a].slick=new t(i[a],n):e=i[a].slick[n].apply(i[a].slick,o),"undefined"!=typeof e)return e;return i}}),$(function(){new SerifLabs.Picture;$("[data-slider-gallery]").slick({dots:!0,cssEase:"ease-in-out",adaptiveHeight:!0,touchThreshold:20,speed:1e3})}),function(e,t,i){"use strict";var n={ERROR:1,SUCCESS:2,ALREADY_EXISTS:3,INVALID_EMAIL:4},o=function(t,i){this.base=e(t),this.name=this.base.data("subscriber-signup"),this.callbacks={},this.status=null,this.SignupResponse=n,this.allowedCallbacks=["success","error","submit"],this.errors=this.base.find("[data-error]"),this.hideOnSuccess=this.base.find("[data-hide-on-success]").add('[data-hide-on-success="'+this.name+'"]'),this.showOnSuccess=this.base.find("[data-show-on-success]").add('[data-show-on-success="'+this.name+'"]'),this.responses=this.base.find("[data-response]"),this.form=this.base.find("form"),this.submit=this.form.find('button[type="submit"]'),this.options=e.extend({classHidden:"u-hide",classLocked:"locked"},i),this._init()};o.prototype={_callback:function(e){if(e in this.callbacks)for(var t=0;t<this.callbacks[e].length;t++)var i=this.callbacks[e][t](this);return i},_handleValidationErrors:function(e){for(var t in e)this.errors.filter('[data-error="'+t+'"]').removeClass(this.options.classHidden)},_handleStatus:function(e){var t=!0;switch(this.status=e,e){case n.SUCCESS:this._callback("success"),this._updateHideAndShowOnSuccess();break;case n.ALREADY_EXISTS:case n.ERROR:t=this._callback("error"),this._unlock()}t!==!1&&this._showResponse(e)},_init:function(){this._setEvents()},_lock:function(){var e=this;t.requestAnimationFrame(function(){e.submit.prop("disabled","disabled"),e.base.addClass(e.options.classLocked)})},_resetErrors:function(){var e=this;t.requestAnimationFrame(function(){e.errors.addClass(e.options.classHidden)})},_resetResponses:function(){var e=this;t.requestAnimationFrame(function(){e.responses.addClass(e.options.classHidden)})},_resetHideAndShowOnSuccess:function(){var e=this;t.requestAnimationFrame(function(){e.hideOnSuccess.removeClass(e.options.classHidden),e.showOnSuccess.addClass(e.options.classHidden)})},_setEvents:function(){var t=this;this.form.on("submit",function(i){return i.preventDefault(),t._lock(),t._resetErrors(),t._resetResponses(),t._resetHideAndShowOnSuccess(),t._callback("submit"),e.post(t.form.attr("action"),t.form.serialize(),function(e){"errors"in e?t._handleValidationErrors(e.errors):"status"in e?t._handleStatus(e.status):t._handleStatus(n.ERROR),t._unlock()}),!1})},_showResponse:function(e){var i=this;t.requestAnimationFrame(function(){i.responses.filter('[data-response="'+e+'"]').removeClass(i.options.classHidden)})},_updateHideAndShowOnSuccess:function(){var e=this;t.requestAnimationFrame(function(){e.hideOnSuccess.addClass(e.options.classHidden),e.showOnSuccess.removeClass(e.options.classHidden)})},_unlock:function(){var e=this;t.requestAnimationFrame(function(){e.submit.prop("disabled",null),e.base.removeClass(e.options.classLocked)})},on:function(e,t){e in this.callbacks||(this.callbacks[e]=[]),this.callbacks[e].push(t)},reset:function(){var e=this;this._resetErrors(),this._resetResponses(),this._resetHideAndShowOnSuccess(),t.requestAnimationFrame(function(){e.form[0].reset(),e._unlock()})}},t.SerifLabs=t.SerifLabs||{},t.SerifLabs.fn=t.SerifLabs.fn||{},t.SerifLabs.fn.SubscriberSignup=o}(jQuery,window,document),function(e,t,i,n){"use strict";n.navMenuOpen=!1;var o=e("html"),s=e(i),a=e("[data-menu-overlay]"),r=e("[data-page-header]"),l=e("[data-nav-account]"),c=e("[data-nav-buy]"),d=a.find("a"),u=d.length,h=-1,p=new n.fn.ToggleMenu("[data-nav-toggle]",{onOpen:function(){o.addClass("js-nav-is-open"),l.removeClass("u-hide").addClass("u-show--inline"),c.addClass("u-hide");var e=getActiveCarousel();"undefined"!=typeof e&&e.openOverlay(),n.navMenuOpen=!0},onOpenEnd:function(){r.css({position:"fixed"}),n.navMenuOpen=!1},onClose:function(){o.removeClass("js-nav-is-open"),l.removeClass("u-show--inline").addClass("u-hide"),c.removeClass("u-hide");var e=getActiveCarousel();"undefined"!=typeof e&&e.closeOverlay(),r.css({position:""})},onKeypress:function(t){var i=t.which,n=function(){var t=e(":focus")[0];e.each(d,function(e,i){i===t&&(h=e)})},o=function(e){return 0>e?u-1:e>=u?0:e},s=function(e){return d.eq(e).is("[data-active-page]")},r=function(){var e=o(h-1);s(e)&&(e=o(e-1)),h=e,c()},l=function(){var e=o(h+1);s(e)&&(e=o(e+1)),h=e,c()},c=function(){d.eq(h).focus(),0===h&&a.scrollTop(0),t.preventDefault()};38===i?(n(),r()):40===i&&(n(),l())}});d.on("click",function(t){e(this).is("[data-active-page]")&&(p.close(),t.preventDefault())}),s.keypress(function(e){e.altKey&&109==e.charCode&&(p.toggle(),e.preventDefault())})}(jQuery,window,document,SerifLabs),function(e,t,i,n){"use strict";function o(e,t,i){t||(t=250);var n,o;return function(){var s=i||this,a=+new Date,r=arguments;n&&n+t>a?(clearTimeout(o),o=setTimeout(function(){n=a,e.apply(s,r)},t)):(n=a,e.apply(s,r))}}n.navMenuOpen=!1;var s,a,r=e(t),l=e("[data-no-nav]"),c=e("[data-page-header]"),d=c.height(),u=0,h=o(function(){var e=r.scrollTop(),i=s,o=a,l=function(){i=!0,o=!1},h=function(){i=!0,o=!0},p=function(){i=!1,o=!1};n.navMenuOpen&&e>d?h():n.fixedScrollActive||e>u&&e>d?l():u>e&&(0>=e?p():h()),(i!==s||o!==a)&&(t.requestAnimationFrame(function(){i?c.addClass("js-header-is-fixed"):c.removeClass("js-header-is-fixed"),o?c.addClass("js-header-is-visible"):c.removeClass("js-header-is-visible")}),s=i,a=o),u=e},40);1!==l.length&&r.on("scroll",function(){h()})}(jQuery,window,document,SerifLabs),function(e,t,i,n){"use strict";var o=e(t),s=e(i),a=e("body"),r=[],l=function(t,i){var n=e(t),o=n.find("[data-video-background]"),s=n.find("[data-video-overlay]");this.elements={container:n,background:{container:o,video:e('<video preload="auto" loop></video>')},overlay:{container:s,iframe:s.find("iframe"),close:s.find("button"),open:n.find("[data-trigger-video-overlay]")}},this.players={background:this.elements.background.video[0],overlay:$f(this.elements.overlay.iframe[0])},this.meta={videoSrc:o.data("video-src"),videoExtensions:o.data("video-extensions").replace(/ /g,"").split(",")},this.options=e.extend({debug:!1,minWidth:1200,topOffset:100,lazyLoadOffset:800,autoplayDelay:5e3},i),this.mode=null,this.width=null,this.is={videoAppended:!1,backgroundVideoPlaying:!1,overlayActive:!1},this._init()};l.prototype={modes:{noVideo:"noVideo",main:"main"},widths:{small:881,medium:1200},_init:function(){var e=this;this._changeMode(),this._bindEvents(),this.resize(),t.setTimeout(function(){e.update()},this.options.autoplayDelay)},_changeMode:function(){var e=this.modes.noVideo;Modernizr.video&&(e=o.width()<this.options.minWidth||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?this.modes.noVideo:this.modes.main),this.mode!==e&&(this.options.debug&&console.log("WideVideo: Switching to mode: "+e),e===this.modes.noVideo?(this.elements.background.video.css("display","none"),this.elements.container.removeClass("c-wide-video--active"),this.elements.background.container.addClass("c-wide-video-image"),this.players.background.pause(),this.is.backgroundVideoPlaying=!1):e===this.modes.main&&(this.elements.background.video.css("display","block"),this.elements.container.addClass("c-wide-video--active"),this.elements.background.container.removeClass("c-wide-video-image")),this.mode=e,this.update())},_appendVideo:function(){var t=this;this.is.videoAppended=!0,e.each(this.meta.videoExtensions,function(i,n){var o=t.meta.videoSrc+"."+n;t.elements.background.video.append(e('<source src="'+o+'" type="video/'+n+'" >'))}),this.elements.background.container.append(this.elements.background.video),this.players.background.pause()},_bindEvents:function(){var e=this,t=function(e){return e.preventDefault(),!1};this.elements.overlay.open.on("click",function(i){return e._openOverlay(),t(i)}),this.elements.overlay.close.on("click",function(i){return e._closeOverlay(),t(i)}),this.elements.container.on("click",function(t){e._closeOverlay()}),o.on("scroll",function(){e.update()}),o.on("resize",function(){e.resize()})},_openOverlay:function(){var e=this;return this.is.overlayActive?!1:(this.is.overlayActive=!0,this.players.background.pause(),this.is.backgroundVideoPlaying=!1,s.on("keydown.WideVideo",function(t){27==t.keyCode&&e._closeOverlay()}),a.css({height:"auto",overflow:"hidden"}),this.elements.overlay.container.css("display","block"),void n.to(this.elements.overlay.container,.4,{opacity:1,ease:Expo.easeInOut,onComplete:function(){e.players.overlay.addEvent("ready",function(){e.players.overlay.addEvent("finish",function(){e._closeOverlay()}),e.players.overlay.api("play")})}}))},_closeOverlay:function(){var e=this;return this.is.overlayActive?(this.is.overlayActive=!1,s.off("keydown.WideVideo"),void n.to(this.elements.overlay.container,.8,{opacity:0,ease:Expo.easeInOut,onComplete:function(){a.css({height:"",overflow:""}),e.elements.overlay.container.css("display","none"),e.players.overlay.api("seekTo",0),e.players.overlay.api("pause"),e.update()}})):!1},resize:function(){this._changeMode()},update:function(){var e=o.scrollTop(),t=e+o.height(),i=Math.round(this.elements.container.offset().top),n=Math.round(i+this.elements.container.height());return t>=i-this.options.lazyLoadOffset&&!this.is.videoAppended&&this._appendVideo(),this.mode!==this.modes.main||this.cache===e?!1:void(t>i&&n>e?this.is.backgroundVideoPlaying!==!0&&(this.players.background.play(),this.is.backgroundVideoPlaying=!0,this.options.debug&&console.log("Playing Background <video>")):this.is.backgroundVideoPlaying!==!1&&(this.players.background.pause(),this.is.backgroundVideoPlaying=!1,this.options.debug&&console.log("Pausing Background <video>")))}},e.fn.wideVideo=function(e){return this.each(function(t,i){r.push(new l(i,e))})}}(jQuery,window,document,TweenLite),function(e,t,i){"use strict";var n=[],o=function(t){this.base=e(t),this.name=this.base.data("signup-menu"),this.partialPath=this.base.data("partial-path"),this.redirectPath=this.base.data("redirect-path"),this.form=null,this.formLoaded=!1,this.menu=null,this._init()};o.prototype={_onOpenClick:function(){this.formLoaded?this.menu.open():this._initForm()},_init:function(){this._initMenu(),this._setEvents()},_initMenu:function(){var e=this;this.menu=new t(this.base,{name:e.name,lockScroll:!1,onOpenClick:function(){return e._onOpenClick(),!1},onCloseEnd:function(){e.form.reset()}})},_initForm:function(){var t=this;this.formLoaded=!0,e.post(this.partialPath,function(i){i=e(i),t.menu.elements.overlay.append(i),t.form=new SerifLabs.fn.SubscriberSignup(i),t.form.on("success",function(){window.setTimeout(function(){t.menu.close()},5e3)}),t.redirectPath&&t.form.on("error",function(e){return e.status===t.form.SignupResponse.ALREADY_EXISTS?(window.requestAnimationFrame(function(){window.location=t.redirectPath}),!1):!0});var n=i.find("[data-user-email-address]");n.length&&t.form.on("submit",function(e){n.text(e.form.find("[data-email-input]").val())}),t.menu.open()})},_setEvents:function(){var t=this;this.base.on("click",function(e){e.preventDefault(),t._onOpenClick()}),e('[data-signup-button="'+this.name+'"]').on("click",function(e){e.preventDefault(),t._onOpenClick()})}};var s=function(){return!e("[data-disable-signup-menu]").length};s()&&e("[data-signup-menu]").each(function(){n.push(new o(e(this)))})}(jQuery,SerifLabs.fn.ToggleMenu,SerifLabs.fn.SubscriberSignup),function(e,t){"use strict";var i=[];e("[data-subscriber-signup]").each(function(){var n=new t.fn.SubscriberSignup(e(this)),o=e("[data-user-email-address]"),s=e("[data-sticky-footer]");o.length&&n.on("submit",function(e){o.text(e.form.find("[data-email-input]").val())}),n.on("success",function(){s.addClass("c-sticky-footer")}),i.push(n)})}(jQuery,SerifLabs),function(){"use strict";if(window&&window.addEventListener){var e,t,i=Object.create(null),n=function(){clearTimeout(t),t=setTimeout(e,100)},o=function(){},s=function(){var e;window.addEventListener("resize",n,!1),window.addEventListener("orientationchange",n,!1),window.MutationObserver?(e=new MutationObserver(n),e.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),o=function(){try{e.disconnect(),window.removeEventListener("resize",n,!1),window.removeEventListener("orientationchange",n,!1)}catch(t){}}):(document.documentElement.addEventListener("DOMSubtreeModified",n,!1),o=function(){document.documentElement.removeEventListener("DOMSubtreeModified",n,!1),window.removeEventListener("resize",n,!1),window.removeEventListener("orientationchange",n,!1)})},a=function(e){function t(e){var t=document.createElement("a");return t.href=e,t.hostname}var i,n,o=location.hostname;return window.XMLHttpRequest&&(i=new XMLHttpRequest,n=t(e),i=void 0===i.withCredentials&&""!==n&&n!==o?XDomainRequest||void 0:XMLHttpRequest),i},r="http://www.w3.org/1999/xlink";e=function(){function e(){b-=1,0===b&&(o(),s())}function t(e){return function(){i[e.base]!==!0&&e.useEl.setAttributeNS(r,"xlink:href","#"+e.hash)}}function n(t){return function(){var i,n=document.body,o=document.createElement("x");t.onload=null,o.innerHTML=t.responseText,i=o.getElementsByTagName("svg")[0],i&&(i.setAttribute("aria-hidden","true"),i.style.position="absolute",i.style.width=0,i.style.height=0,i.style.overflow="hidden",n.insertBefore(i,n.firstChild)),e()}}function l(t){return function(){t.onerror=null,t.ontimeout=null,e()}}var c,d,u,h,p,f,m,g,v,y,w="",b=0;for(o(),v=document.getElementsByTagName("use"),p=0;p<v.length;p+=1){try{d=v[p].getBoundingClientRect()}catch(k){d=!1}h=v[p].getAttributeNS(r,"href"),g=h&&h.split?h.split("#"):["",""],c=g[0],u=g[1],f=d&&0===d.left&&0===d.right&&0===d.top&&0===d.bottom,d&&0===d.width&&0===d.height&&!f?(w&&!c.length&&u&&!document.getElementById(u)&&(c=w),c.length&&(y=i[c],y!==!0&&setTimeout(t({useEl:v[p],base:c,hash:u}),0),void 0===y&&(m=a(c),void 0!==m&&(y=new m,i[c]=y,y.onload=n(y),y.onerror=l(y),y.ontimeout=l(y),y.open("GET",c),y.send(),b+=1)))):f?c.length&&i[c]&&t({useEl:v[p],base:c,hash:u})():void 0===i[c]?i[c]=!0:i[c].onload&&(i[c].abort(),delete i[c].onload,i[c]=!0)}v="",b+=1,e()},window.addEventListener("load",function l(){window.removeEventListener("load",l,!1),t=setTimeout(e,0)},!1)}}();